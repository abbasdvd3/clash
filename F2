port: 7892
socks-port: 7891
# mixed-port: 7890
redir-port: 9797
tproxy-port: 9898
mode: rule
ipv6: true
allow-lan: true
log-level: debug
external-controller: "127.0.0.1:9090"
external-controller-tls: "127.0.0.1:9091"
external-ui: ./dashboard
keep-alive-interval: 30
find-process-mode: strict
external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"
unified-delay: false
tcp-concurrent: true
global-client-fingerprint: random
geodata-mode: true
geo-auto-update: true
geo-update-interval: 24
geox-url:
  GeoIP: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geoip.dat
  GeoSite: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geosite.dat
  mmdb: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/geoip.metadb
  ANS: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/geolite2/GeoLite2-ASN.mmdb
global-ua: chrome
profile:
  store-selected: true
  store-fake-ip: true
  
dns:
  nameserver:
    - https://doh.pub/dns-query
  fallback:
    - https://8.8.8.8/dns-query
  direct-nameserver:
    - dhcp://system
  nameserver-policy:
    "geosite:ir,private":
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback-filter:
    geoip: true
    geoip-code: ir
    geosite:
      - social
      - nsfw
    ipcidr:
      - 240.0.0.0/4
    domain:
      - '+.google.com'
      - '+.facebook.com'
      - '+.youtube.com'
proxy-groups:
  - name: PROXY
    type: select
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Rocket.png
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Ssh|Vmess|Vless
    include-all: true
    disable-udp: true
    proxies:
      - ğŸŸ¢AutoğŸŸ¢
      - ğŸŸ¡fallbackğŸŸ¡
      - ğŸ”´load-balanceğŸ”´
  - name: ğŸŸ¢AutoğŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Snell|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh
    exclude-filter: ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…
    include-all: true
    disable-udp: true
    interval: 300
    tolerance: 10
    timeout: 500
    max-failed-times: 6
    lazy: true
    hidden: true
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
  - name: ğŸŸ¡fallbackğŸŸ¡
    type: fallback
    url: http://cp.cloudflare.com/generate_204
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Snell|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh
    exclude-filter: ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…
    include-all: true
    disable-udp: true
    interval: 100
    timeout: 500
    max-failed-times: 6
    lazy: true
    hidden: true
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
  - name: ğŸ”´load-balanceğŸ”´
    type: load-balance
    url: http://cp.cloudflare.com/generate_204
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh #|Vmess|Vless|Trojan|Hysteria|Hysteria2
    exclude-filter: ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…
    filter: "America|United States|US|ç¾å›½"
    include-all: true
    disable-udp: true
    interval: 100
    timeout: 500
    max-failed-times: 6
    lazy: true
    hidden: true
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
  - name: ğŸ¯ Direct
    type: select
    disable-udp: true
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
    proxies:
      - "DIRECT"
      - "PROXY"
  - name: ğŸ›‘ Reject
    type: select
    disable-udp: true
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
    proxies:
      - "RejectDrop"
      - "DIRECT"
      - "PROXY"
sniffer:
  enable: false
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - +.v2ex.com
  skip-domain:
    - Mijia Cloud
  skip-src-address:
    - 192.168.0.3/32
  skip-dst-address:
    - 192.168.0.3/32
proxy-providers:
  A41:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/provide/41.yaml"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A441:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/provide/2.yaml"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 10
  A1:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/vip"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100 
  A2:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/v"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A6:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/t"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A7:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/s"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
  A8:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/r"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A9:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/pp1.yaml"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
  A10:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/p.hamrah"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A11:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/p.all"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A12:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/j.yaml"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A13:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/i"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A14:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/hamrah"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A15:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/h.yaml" #https://raw.githubusercontent.com/acymz/AutoVPN/refs/heads/main/data/V2.txt
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A16:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/all"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A22:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/a"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A66:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/N"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A77:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/MTN"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
  A88:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/MCI"
    interval: 86400
    exclude-filter: "ç¾|æ—¥|ctb|Traffic|Expired|Official website|Landing|Return to China|This site|User|If|Renewal|Email|Subscription|æµé‡|è¿‡æœŸ|å®˜ç½‘|è½åœ°|å›å›½|æœ¬ç«™|ç”¨æˆ·|è‹¥|ç»­è´¹|é‚®ç®±|è®¢é˜…"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/
      interval: 300
      lazy: true
      expected-status: 100
proxies:
- name: "IRAN"
  type: direct
  udp: true
  ip-version: ipv4
  interface-name: eth0
  routing-mark: 1234    
rules:
  - DOMAIN-SUFFIX,acl4.ssr,ğŸ¯ Direct
  - DOMAIN-SUFFIX,ip6-localhost,ğŸ¯ Direct
  - DOMAIN-SUFFIX,ip6-loopback,ğŸ¯ Direct
  - DOMAIN-SUFFIX,lan,ğŸ¯ Direct
  - DOMAIN-SUFFIX,local,ğŸ¯ Direct
  - DOMAIN-SUFFIX,localhost,ğŸ¯ Direct
  - IP-CIDR,0.0.0.0/8,ğŸ¯ Direct,no-resolve
  - IP-CIDR,10.0.0.0/8,ğŸ¯ Direct,no-resolve
  - IP-CIDR,100.64.0.0/10,ğŸ¯ Direct,no-resolve
  - IP-CIDR,127.0.0.0/8,ğŸ¯ Direct,no-resolve
  - IP-CIDR,172.16.0.0/12,ğŸ¯ Direct,no-resolve
  - IP-CIDR,192.168.0.0/16,ğŸ¯ Direct,no-resolve
  - IP-CIDR,198.18.0.0/16,ğŸ¯ Direct,no-resolve
  - IP-CIDR,224.0.0.0/4,ğŸ¯ Direct,no-resolve
  - IP-CIDR6,::1/128,ğŸ¯ Direct,no-resolve
  - IP-CIDR6,fc00::/7,ğŸ¯ Direct,no-resolve
  - IP-CIDR6,fe80::/10,ğŸ¯ Direct,no-resolve
  - IP-CIDR6,fd00::/8,ğŸ¯ Direct,no-resolve
  - DOMAIN-SUFFIX,google.com,PROXY
  - GEOIP,ir,ğŸ¯ Direct
  - MATCH,PROXY
