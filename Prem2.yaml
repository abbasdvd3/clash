
proxies:
proxy-groups:

  - name: PRO
    type: select
    proxies:
      - url-test
      - fallback
      - 🇺🇸a-url-test
      - 🇺🇸1
      - 🇺🇸2
      - 🇺🇸3
      - 🇺🇸4
#    use: 
   #   - provider1
    #  - provider2
 #     - provider3
      

  - name: url-test
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    interval: 99
    tolerance: 99
    use: 
      - provider1
      - provider2
      - provider3


  - name: fallback
    type: fallback
    url: http://speed.cloudflare.com/generate_204
    interval: 99
    proxies:
    use: 
      - provider1
      - provider2
      - provider3


  - name: 🇺🇸a-url-test
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    interval: 99
    tolerance: 99
    filter: '🇺🇸|US|America|United.*?States|美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥'
    use: 
      - provider1
      - provider2
      - provider3


  - name: 🇺🇸1
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    filter: "🇭🇰|HK|Hong|Kong|HGC|WTT|CMI|港|🇦🇫|🇦🇽|🇦🇱|🇩🇿|🇦🇸|🇦🇩|🇦🇴|🇦🇮|🇧🇭|🇧🇸|🇦🇿|🇦🇹|🇦🇺|🇦🇼|🇦🇲|🇦🇷|🇦🇬|🇧🇩|🇧🇧|🇧🇪|🇧🇾|🇧🇯|🇧🇹|🇧🇴|🇰🇭|🇧🇮|🇧🇫|🇧🇬|🇧🇳|🇻🇬|🇧🇷|🇧🇼|🇧🇦|🇨🇲|🇨🇦|🇮🇨|🇨🇻|🇧🇶|🇰🇾|🇨🇫|🇹🇩|🇮🇴|🇨🇰|🇨🇬|🇰🇲|🇨🇨|🇨🇴|🇨🇽|🇨🇳|🇨🇱"
    interval: 99
    tolerance: 99
    use: 
      - provider1
      - provider2
      - provider3

  - name: 🇺🇸2
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    filter: "🇯🇵|JP|Japan|Tokyo|Osaka|Saitama|东京|大阪|埼玉|日|🇩🇲|🇨🇮|🇩🇴|🇪🇨|🇭🇷|🇪🇬|🇸🇻|🇨🇼|🇨🇾|🇨🇿|🇩🇰|🇩🇯|🇸🇿|🇪🇪|🇬🇫|🇫🇷|🇪🇷|🇫🇮|🇫🇯|🇫🇴|🇫🇰|🇪🇺|🇭🇰|🇭🇳|🇮🇲|🇮🇱|🇮🇹|🇮🇸|🇮🇳|🇮🇪🇯🇴🎌🇱🇦🇱🇧|🇱🇸|🇱🇦|🇽🇰|🇰🇮|🇳🇫|🇳🇿|🇲🇵|🇷🇼|🇵🇱|🇸🇹|🇷🇼|🇷🇪|🇵🇷|🇵🇸|🇵🇬|🇵🇳|🇻🇨"
    interval: 99
    tolerance: 99
    use: 
      - provider1
      - provider2
      - provider3
   

  - name: 🇺🇸3
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    # filter: "cn|TW"
    interval: 99
    tolerance: 99
    proxies:
      - 🇺🇸4
      - 🇺🇸2
      - 🇺🇸1
      - 🇺🇸a-url-test

  - name: 🇺🇸4
    type: url-test
    url: http://speed.cloudflare.com/generate_204
    filter: "🇸🇬|SG|Singapore|狮城|^新|^节北|^刷更|新|^节北|🇹🇬|🇹🇰|🇹🇼|🇻🇳|🇻🇪|🏴󠁧󠁢󠁥󠁮󠁧󠁿|🇬🇧|🇻🇦|🇿🇼|🇻🇮|🇺🇾|🇹🇨|🇺🇬|🇦🇪|🇹🇴|🇨🇭"
    interval: 99
    tolerance: 99
    use: 
      - provider1
      - provider2
      - provider3
   

  - name: 🎯
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/bug.svg
    proxies: [DIRECT, url-test, fallback]
    
  - name: 🆎 AdBlock
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/block.svg
    proxies: [REJECT, DIRECT, PROXY, url-test, fallback]
    
  - name: PROXY
    type: select
    proxies:
      - PRO
      - fallback
      - url-test
      - 🇺🇸a-url-test
      - 🇺🇸1
      - 🇺🇸2
      - 🇺🇸3
      - 🇺🇸4
    use: 
      - provider1
      - provider2
      - provider3
    

proxy-providers:
  provider1:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/vless/p.hamrah" 
    path: Prem2/p1.yaml
    interval: 890
    health-check:
      enable: true
      interval: 300
      url: http://speed.cloudflare.com/generate_204
  provider2:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/P1"    
    path: Prem2/P2.yaml
    interval: 890
    health-check:
      enable: true
      interval: 300
      url:http://speed.cloudflare.com/generate_204
  provider3:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/vless/p.all"  
    path: Prem2/P3.yaml
    interval: 890
    health-check:
      enable: true
      interval: 300
      url: http://speed.cloudflare.com/generate_204
rule-providers:
  reject:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt
    path: ruleset/reject.yaml
    interval: 86400
  gfw:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
    path: ruleset/gfw.yaml
    interval: 86400
  telegramcidr:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt
    path: ruleset/telegramcidr.yaml
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    interval: 3600
    path: ruleset/BanAD.list
  BanProgramAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
    interval: 3600
    path: ruleset/BanProgramAD.list
  BanEasyList:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
    interval: 3600
    path: ruleset/BanEasyList.list
  BanEasyListChina:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyListChina.list
    interval: 3600
    path: ruleset/BanEasyListChina.list
  BanEasyPrivacy:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyPrivacy.list
    interval: 3600
    path: ruleset/BanEasyPrivacy.list
  category-ads-all:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/category-ads-all.yaml
    path: ruleset/category-ads-all.yaml
    interval: 86400
  nsfw1:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/nsfw.yaml
    path: ruleset/nsfw1.yaml
    interval: 86400
  social:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/social.yaml
    path: ruleset/social.yaml
    interval: 86400
  iran_other:
    type: http
    behavior: domain
    url: https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_other.txt
    path: ruleset/iran_other.txt
    interval: 432000
  iran_ads:
    type: http
    behavior: domain
    url: https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_ads.txt
    path: ruleset/iran_ads.txt
    interval: 432000    
  ads:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.yaml
    path: ruleset/ads.yaml
    interval: 86400
  malware:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.yaml
    path: ruleset/malware.yaml
    interval: 86400
  phishing:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.yaml
    path: ruleset/phishing.yaml
    interval: 86400
  cryptominers:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.yaml
    path: ruleset/cryptominers.yaml
    interval: 86400
rules:
  - PROCESS-NAME,com.tomclaw.appsend,DIRECT
  - PROCESS-NAME,ir.mci.ecareapp,🎯,no-resolve
  - PROCESS-NAME,com.myirancell,🎯,no-resolve
  - DOMAIN-SUFFIX,ir,🎯,no-resolve
  - RULE-SET,gfw,PRO,no-resolve
  - RULE-SET,social,PRO,no-resolve
  - RULE-SET,nsfw1,PRO,no-resolve
  - DOMAIN,errlog.umeng.com,PRO
  - DOMAIN,msg.umeng.com,PRO
  - DOMAIN,msg.umengcloud.com,PRO
  - DOMAIN,tracking.miui.com,PRO
  - DOMAIN,app.adjust.com,PRO
  - DOMAIN,bdtj.tagtic.cn,PRO
  - DOMAIN,rewards.hypixel.net,PRO
  - DOMAIN-SUFFIX,koodomobile.com,PRO
  - DOMAIN-SUFFIX,koodomobile.ca,PRO
  - GEOIP,CN,🎯,no-resolve
  - GEOIP,ir,🎯,no-resolve
  - RULE-SET,telegramcidr,PRO,no-resolve
  - RULE-SET,gfw,PRO,no-resolve
  - RULE-SET,iran_ads,🆎 AdBlock
  - RULE-SET,category-ads-all,🆎 AdBlock
  - RULE-SET,iran_other,🆎 AdBlock
  - RULE-SET,BanAD,🆎 AdBlock
  - RULE-SET,BanProgramAD,🆎 AdBlock
  - RULE-SET,BanEasyList,🆎 AdBlock
  - RULE-SET,BanEasyListChina,🆎 AdBlock
  - RULE-SET,BanEasyPrivacy,🆎 AdBlock
  - RULE-SET,iran_ads,🆎 AdBlock  
  - RULE-SET,ads,🆎 AdBlock
  - RULE-SET,malware,🆎 AdBlock
  - RULE-SET,phishing,🆎 AdBlock
  - RULE-SET,cryptominers,🆎 AdBlock
  - PROCESS-NAME,com.samsung.android.messaging,🆎 AdBlock
  - PROCESS-NAME,com.samsung.android.app.telephonyui,🆎 AdBlock
  - PROCESS-NAME,com.samsung.android.smartcallprovider,🆎 AdBlock
  - PROCESS-NAME,com.samsung.android.intellivoiceservice,🆎 AdBlock
  - PROCESS-NAME,com.android.settings,🆎 AdBlock
  - PROCESS-NAME,com.sec.imsservice,🆎 AdBlock
  - PROCESS-NAME,com.instander.android,PRO,no-resolve
  - PROCESS-NAME,com.google.android.gm,PRO,no-resolve
  - PROCESS-NAME,com.jrummy.app.manager,PRO,no-resolve
  - DOMAIN-SUFFIX,cdninstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,bookstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,carstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,cdninstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,chickstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,ig.me,PRO,no-resolve
  - DOMAIN-SUFFIX,igcdn.com,PRO,no-resolve
  - DOMAIN-SUFFIX,igsonar.com,PRO,no-resolve
  - DOMAIN-SUFFIX,igtv.com,PRO,no-resolve
  - DOMAIN-SUFFIX,imstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,imtagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instaadder.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instachecker.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instafallow.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instafollower.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagainer.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagda.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagify.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagmania.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagor.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram-brand.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram-engineering.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram-help.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram-press.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram-press.net,PRO,no-resolve
  - DOMAIN-SUFFIX,instagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramci.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramcn.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramdi.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramhashtags.net,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramhilecim.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramium.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramizlenme.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramkusu.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramlogin.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramm.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramn.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagrampartners.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramphoto.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramq.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramsepeti.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramtakipcisatinal.net,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramtakiphilesi.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramtips.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagramtr.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagran.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagranm.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagrem.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagrm.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagtram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instagy.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instamgram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instangram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,instaplayer.net,PRO,no-resolve
  - DOMAIN-SUFFIX,instastyle.tv,PRO,no-resolve
  - DOMAIN-SUFFIX,instgram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,intagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,intagrm.com,PRO,no-resolve
  - DOMAIN-SUFFIX,intgram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,kingstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,lnstagram-help.com,PRO,no-resolve
  - DOMAIN-SUFFIX,theinstagramhack.com,PRO,no-resolve
  - DOMAIN-SUFFIX,oninstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,online-instagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,onlineinstagram.com,PRO,no-resolve
  - DOMAIN-SUFFIX,web-instagram.net,PRO,no-resolve
  - DOMAIN-SUFFIX,wwwinstagram.com,PRO,no-resolve
  - MATCH,PROXY
