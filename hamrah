
mode: rule
ipv6: true
allow-lan: true
log-level: debug
bind-address: "*"
lan-allowed-ips:
- 0.0.0.0/0
- ::/0
lan-disallowed-ips:
- 192.168.0.3/32
skip-auth-prefixes:
- 127.0.0.1/8
- ::1/128
external-controller: 0.0.0.0:9090
external-controller-tls: 0.0.0.0:9091
external-doh-server: /dns-query
external-ui: dashboard
external-ui-name: ui
external-ui-url: "https://github.com//Zephyruso/zashboard/releases/latest/download/dist.zip"
keep-alive-interval: 30
disable-keep-alive: false
keep-alive-idle: 15
find-process-mode: strict
unified-delay: false
tcp-concurrent: true
global-client-fingerprint: random
geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
etag-support: true
geox-url:
  geoip: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geoip.dat
  geosite: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geosite.dat
  mmdb: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/Country.mmdb

global-ua: clash.meta
profile:
  store-selected: true
  store-fake-ip: true

tun:
  enable: true
  mtu: 1500
  device: clash
  stack: mixed
  dns-hijack:
  - 0.0.0.0:53
  auto-route: true
  strict-route: true
  auto-redirect: true
  auto-detect-interface: true
dns:
  enable: true
  cache-algorithm: arc
  prefer-h3: true
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  listen: 0.0.0.0:53
  ipv6: true
  direct-nameserver:
    - system
    - 1.1.1.1
  nameserver:
    - system
    - 114.114.114.114
    - 8.8.8.8 
    - tls://223.5.5.5:853 
    - https://doh.pub/dns-query 
    - https://dns.alidns.com/dns-query#h3=true 
    - https://mozilla.cloudflare-dns.com/dns-query#DNS&h3=true
    - quic://dns.adguard.com:784
    - https://cloudflare-dns.com/dns-query
    - https://sky.rethinkdns.com/dns-query
    - https://dnspub.restena.lu/dns-query
    - https://doh.flashstart.com/f17c9ee5
    - https://ada.openbld.net/dns-query
    - https://rubyfish.cn/dns-query#PROXY
    - https://all.dns.mullvad.net/dns-query
  proxy-server-nameserver:
    - https://cloudflare-dns.com/dns-query:784
    - https://sky.rethinkdns.com/dns-query
    - https://ada.openbld.net/dns-query:784
    - https://dnspub.restena.lu/dns-query
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  direct-nameserver-follow-policy: false
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "www.torrent.eu.org"
    - "www.msftconnecttest.com"
    - "*.msftncsi.com"
    - "+.10010.com"
    - "+.chinaunicom.com"
    - "+.baidu.com"
    - "connect.rom.miui.com"
    - "localhost.ptlogin2.qq.com"
    - "dl.google.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "lens.l.google.com"
    - "*.n.n.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "router.asus.com"
    - "localhost.sec.qq.com"
    - "localhost.ptlogin2.qq.com"
    - "+.msftconnecttest.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    - "+.lan"
    - "+.cn"
    - "+.10010.com"
    - "+.chinaunicom.com"
    - "+.baidu.com"
    - "*.alipay.com"
    - "*.alipayobjects.com"
    - "*.jijifun.com"
    - "connect.rom.miui.com"
    - "localhost.ptlogin2.qq.com"
    - "dl.google.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "lens.l.google.com"
    - "*.n.n.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "*.mcdn.bilivideo.cn"
    - "ntp.ntsc.ac.cn"
  fallback:
    - tcp://8.8.8.8
    - tcp://1.1.1.1
    - https://sky.rethinkdns.com/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://dnspub.restena.lu/dns-query
    - https://ada.openbld.net/dns-query
  fallback-filter:
    geoip: true
    geoip-code: ir
    geosite:                         
      - social
      - nsfw
    ipcidr:
     - 0.0.0.0/8
     - 10.0.0.0/8
     - 100.64.0.0/10
     - 127.0.0.0/8
     - 169.254.0.0/16
     - 172.16.0.0/12
     - 192.0.0.0/24
     - 192.0.2.0/24
     - 192.88.99.0/24
     - 192.168.0.0/16
     - 198.18.0.0/16
     - 198.51.100.0/24
     - 203.0.113.0/24
     - 224.0.0.0/4
     - 240.0.0.0/4
     - 255.255.255.255/32
     - ::1/128
     - fc00::/7
     - fe80::/10
     - 39.102.194.95/32
     - 182.43.124.6/32
     - 101.35.177.86/32
     - 116.89.243.8/32
     - 119.28.87.227/32
    domain:
     - '+.xincache.com'
     - 'www.gstatic.com'
     - '+.ampproject.org'
     - '+.appspot.com'
     - '+.blogger.com'
     - '+.google.com'
     - '+.google.cn'
     - '+.googleusercontent.com'
     - '+.ggpht.com'
     - '+.gmail.com'
     - '+.gvt0.com'
     - '+.gvt1.com'
     - '+.gvt2.com'
     - '+.gvt3.com'
     - '+.youtu.be'
     - '+.yt.be'
     - '+.ytimg.com'
     - '+.googlevideo.com'
     - '+.youtube.com'
     - '+.xn--ngstr-lra8j.com'
     - '+.xn--flw351e.com'
     - '+.xn--9kr7l.com'
     - '+.xn--ggle-55da.com'
     - '+.xn--gogl-0nd52e.com'
     - '+.xn--gogl-1nd42e.com'
     - '+.googleapis.com'
     - '+.googleapis.cn'
     - '+.gstatic.com'
     - '+.gstatic.cn'
     - '+.services.googleapis.cn'
     - '+.services.googleapis.com'
     - '+.connectivitycheck.gstatic.cn'
     - '+.connectivitycheck.gstatic.com'
proxy-providers:
  A1:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/socks5"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A2:
    type: http
    url: "https://raw.githubusercontent.com/go4sharing/sub/main/sub.yaml"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A3:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/N"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
      
  A4:
    type: http
    url: "https://raw.githubusercontent.com/Jsnzkpg/Jsnzkpg/Jsnzkpg/Jsnzkpg"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A5:
    type: http
    url: "https://proxypool1999.banyunxiaoxi.icu/clash/proxies"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A6:
    type: http
    url: "https://raw.githubusercontent.com/go4sharing/sub/main/sub.yaml"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A7:
    type: http
    url: "http://66.42.50.118:12580/clash/proxies"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A8:
    type: http
    url: "https://config.v2cross.com/clashprofile/config" # https://raw.githubusercontent.com/mheidari98/.proxy/main/all
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A9:
    type: http
    url: "https://proxypool.link/clash/proxies" # #" # https://raw.githubusercontent.com/PangTouY00/Auto_proxy/main/Long_term_subscription_num
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A10:
    type: http
    url: "https://raw.githubusercontent.com/ssrsub/ssr/master/clash.yaml"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100

  A11:
    type: http
    url: "https://raw.githubusercontent.com/mfuu/v2ray/master/clash.yaml"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A12:
    type: http
    url: "https://raw.githubusercontent.com/Ruk1ng001/freeSub/main/clash.yaml"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A13:
    type: http
    url: "https://shadowmere.xyz/api/b64sub/"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
  A14:
    type: http
    url: "https://raw.githubusercontent.com/Surfboardv2ray/v2ray-worker-sub/refs/heads/master/Eternity"
    interval: 300
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      lazy: true
      expected-status: 100
proxies:
  - name: redir-in
    type: direct
    port: 9797
    server: 127.0.0.1
proxy-groups:
  - name: "PROXY"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    icon: "https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/adjust.svg"
#    include-all-providers: true
    exclude-type: "direct|redir-in|DNS|trojan"
    hidden: false
    proxies:
      - "ðŸŽˆAuto"
      - "ðŸ¤– AI"
  
  - name: "ðŸŽˆAuto"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    exclude-type: "direct|redir-in"
    include-all-providers: true
    hidden: true
    icon: "https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/provide/Azadi.jpg"

  - name: "ðŸ¤– AI"
    type: "url-test"
    hidden: true
    url: "http://www.gstatic.com/generate_204"
    exclude-type: "direct|redir-in"
    icon: "https://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png"
    proxies:
      - "ðŸ‡ºðŸ‡²"
      - "ðŸ‡­ðŸ‡°"
      - "ðŸ‡¯ðŸ‡µ"
      - "ðŸ‡¹ðŸ‡¼"
      - "ðŸ‡¸ðŸ‡¬"
      - "ðŸ‡°ðŸ‡·"
  - name: "ðŸ‡­ðŸ‡°"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡­ðŸ‡°|HK|Hong|Kong|HGC|WTT|CMI|"
    proxies: 
    use:

  - name: "ðŸ‡¯ðŸ‡µ"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡¯ðŸ‡µ|JP|Japan|Tokyo|Osaka|Saitama"

  - name: "ðŸ‡ºðŸ‡²"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡ºðŸ‡¸|US|America|United.*?States"

  - name: "ðŸ‡¹ðŸ‡¼"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡¹ðŸ‡¼|TW|TaiwanCHT|HINET"

  - name: "ðŸ‡¸ðŸ‡¬"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡¸ðŸ‡¬|SG|Singapore"

  - name: "ðŸ‡°ðŸ‡·"
    type: "url-test"
    url: "http://www.gstatic.com/generate_204"
    include-all-providers: true
    hidden: true
    exclude-type: "direct|redir-in"
    filter: "ðŸ‡°ðŸ‡·|KO?R|Korea"

  - name: "ðŸŽ¯ Direct"
    type: "select"
    icon: "https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/fish.svg"
    proxies:
      - "redir-in"
      - "PROXY"
rule-providers:
  ir:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.yaml"
    interval: 86400
  ads:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.yaml"
    interval: 86400
  malware:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.yaml"
    interval: 86400
  phishing:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.yaml"
    interval: 86400
  cryptominers:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.yaml"
    interval: 86400
  apps:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/apps.yaml"
    interval: 86400
  ircidr:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.yaml"
    interval: 86400
  private:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.yaml"
    interval: 86400
  irasn:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/irasn.yaml"
    interval: 86400
  AWA:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 86400
rules :
  - DOMAIN-KEYWORD,soft98.ir,ðŸŽ¯ Direct
  - DOMAIN,soft98,ðŸŽ¯ Direct
  - DOMAIN-SUFFIX,soft98.ir,ðŸŽ¯ Direct
  - DOMAIN-KEYWORD,dl2soft98.82.ir,ðŸŽ¯ Direct
  - DOMAIN,dl2soft98.82,ðŸŽ¯ Direct
  - DOMAIN-SUFFIX,dl2soft98.82.ir,ðŸŽ¯ Direct
  - DOMAIN-SUFFIX,farsroid,ðŸŽ¯ Direct
  - DOMAIN-KEYWORD,farsroid.com,ðŸŽ¯ Direct
  - DOMAIN,farsroid.com,ðŸŽ¯ Direct
  - DOMAIN,ad.com,REJECT
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT,no-resolve
  - PROCESS-NAME,com.samsung.android.location,REJECT,no-resolve
  - PROCESS-NAME,com.android.localtransport,REJECT,no-resolve
  - PROCESS-NAME,com.google.android.gms.location.history,REJECT,no-resolve
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT,no-resolve
  - PROCESS-NAME,com.android.location.fused,REJECT,no-resolve
  - IP-CIDR,127.0.0.0/8,ðŸŽ¯ Direct,no-resolve
  - SRC-IP-CIDR,192.168.1.201/32,ðŸŽ¯ Direct
  - SRC-IP-SUFFIX,192.168.1.201/8,ðŸŽ¯ Direct
  - DOMAIN-SUFFIX,local,ðŸŽ¯ Direct
  - IP-CIDR,127.0.0.0/8,ðŸŽ¯ Direct
  - IP-CIDR,172.16.0.0/12,ðŸŽ¯ Direct
  - IP-CIDR,192.168.0.0/16,ðŸŽ¯ Direct
  - RULE-SET,private,ðŸŽ¯ Direct,no-resolve
  - RULE-SET,apps,ðŸŽ¯ Direct
  - RULE-SET,ads,REJECT
  - RULE-SET,malware,REJECT
  - RULE-SET,AWA,REJECT
  - RULE-SET,phishing,REJECT
  - RULE-SET,cryptominers,REJECT
  - RULE-SET,ir,ðŸŽ¯ Direct
  - RULE-SET,ircidr,ðŸŽ¯ Direct
  - RULE-SET,irasn,ðŸŽ¯ Direct
  - GEOIP,ir,ðŸŽ¯ Direct
  - GEOIP,private,ðŸŽ¯ Direct,no-resolve
  - GEOSITE,category-ads-all,REJECT
  - GEOSITE,category-ir,ðŸŽ¯ Direct,no-resolve
  - GEOSITE,ir,ðŸŽ¯ Direct
  - MATCH,PROXY
