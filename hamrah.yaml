port: 9494
socks-port: 9595
mixed-port: 9696
redir-port: 9797
tproxy-port: 9898
mode: global
allow-lan: true
unified-delay: true
log-level: warning
ipv6: false
external-controller: 0.0.0.0:9090 

proxies:
proxy-providers:
  VPN1:
    type: http
    url: "https://clashnode.com/wp-content/uploads/2023/06/20230611.yaml"
    path: provide/domestic.yml
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 300
  VPN2:
    type: http
    url: "https://freenode.me/wp-content/uploads/2023/06/118.yaml"
    path: provide/domestic2.yml
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 300
  VPN3:
    type: http
    url: "https://raw.githubusercontent.com/AzadNetCH/Clash/main/AzadNet_META_IRAN-Direct.yml"
    path: provide/domestic3.yaml
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 300
  VPN4:
    type: http
    url: "https://nodefree.org/dy/2023/06/20230610.yaml"
    path: provide/domestic4.yml
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 300
  VPN5:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/Ios.yaml"
    path: provide/domestic5.yml
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 300
      
proxy-groups:
- name: hamrah
  type: select
  proxies:
  - LOADBALANCE
  use:
  - VPN1
  - VPN2
  - VPN3
  - VPN4
  - VPN5
- name: LOADBALANCE
  type: url-test
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50
  use:
  - VPN1
  - VPN2
  - VPN3
  - VPN4
  - VPN5
rules:
  # network(tcp/udp) condition for all rulesÂ 
  - DOMAIN-SUFFIX,ad.com,REJECT,udp
  - SRC-IP-CIDR,192.168.1.201/32,DIRECT
  - DOMAIN-SUFFIX,github.com,DIRECT
  - DOMAIN-SUFFIX,github.io,DIRECT
  - DOMAIN-SUFFIX,githubapp.com,DIRECT
  - DOMAIN-SUFFIX,githubassets.com,DIRECT
  - DOMAIN-SUFFIX,githubusercontent.com,DIRECT
  - DOMAIN-KEYWORD,github,DIRECT
  - DOMAIN-KEYWORD,appteka.store,DIRECT
  - DOMAIN-SUFFIX,collector.githubapp.com,DIRECT
  # - IN-TYPE,inner,hamrah
  - MATCH,hamrah
