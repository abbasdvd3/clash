
port: 7890
# socks-port: 7891
# mixed-port: 10801
# redir-port: 9797
# tproxy-port: 9898
# mode: rule
allow-lan: true
unified-delay: true
bind-address: '*'
log-level: debug
ipv6: true
geodata-mode: true
geodata-loader: memconservative
geo-auto-update: true
geo-update-interval: 24 
external-controller: 0.0.0.0:9090 
# secret: "123456"
external-ui: /dashboard
external-ui-name: xd
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
tcp-concurrent: true
global-client-fingerprint: chrome
geox-url:
  geoip: "https://github.com/chocolate4u/Iran-v2ray-rules/releases/latest/download/geoip.dat"
  geosite: "https://github.com/chocolate4u/Iran-v2ray-rules/releases/latest/download/geosite.dat"
  mmdb: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/geoip.metadb"
# always 
# strict 
find-process-mode: strict
profile:
  store-selected: false
  store-fake-ip: true
# interface-name: en0 
#  TCP keep alive interval
keep-alive-interval: 15 
sniffer:
  enable: true
  sniffing:
    - tls
    - http
  skip-domain:
    - 'Mijia Cloud'
    - 'dlg.io.mi.com'
    - '+.apple.com'
    - '*.baidu.com'
    
  force-domain:
    - '+'
  #  - '+.google.com'

  port-whitelist:
    - 80
    - 443
    - 8000-9000
tun:
  enable: true
  stack: MIXED
#system # gvisor / lwip
  dns-hijack:
    - any:53
    - any:5353
    - tcp://any:53
  # interface-name: 
  auto-route: true 
  # auto set global route for Windows# It is recommended to use `interface-name`
  auto-detect-interface: true 
  # auto detect interface, conflict with `interface-name`
  mtu: 9000 
  strict_route: true 
  inet4_route_address: 
    - 0.0.0.0/1
    - 128.0.0.0/1
  inet6_route_address: 
    - '::/1'
    - '8000::/1'
  endpoint_independent_nat: true 
  # include_uid: # UID 规则仅在 Linux 下被支持，并且需要 auto_route
    # - 0
  # include_uid_range: # 限制被路由的的用户范围
    # - 1000-99999
  # exclude_uid: # 排除路由的的用户
    #- 1000
  # exclude_uid_range: # 排除路由的的用户范围
    # - 1000-99999
    
  # Android 用户和应用规则仅在 Android 下被支持
  # 并且需要 auto_route
  
  # include_android_user: # 限制被路由的 Android 用户
    # - 0
    # - 10
  # include_package: # 限制被路由的 Android 应用包名
    # - com.android.chrome
  # exclude_package: # 排除被路由的 Android 应用包名
    # - com.android.captiveportallogin

dns:
  enable: true
  ipv6: true
  prefer-h3: true
  default-nameserver:
    - 114.114.114.114
    - 8.8.8.8
    - 1.1.1.1
    - tls://223.5.5.5
    - https://223.5.5.5/dns-query
    - 208.67.222.222
    - 217.218.155.155
    - tls://1.12.12.12:853
    - tls://223.5.5.5:853
    - https://223.5.5.5/dns-query
#Adguard(No Filter/No log/Anycast)
#    - quic://dns-unfiltered.adguard.com:784
#    - tls://dns-unfiltered.adguard.com:853
#    - https://dns-unfiltered.adguard.com/dns-query
    - quic://94.140.14.140:784
    - tls://94.140.14.140:853
    - https://94.140.14.140/dns-query
    - quic://94.140.14.141:784
    - tls://94.140.14.141:853
    - https://94.140.14.141/dns-query
    - quic://[2a10:50c0::1:ff]:784
    - tls://[2a10:50c0::1:ff]:853
    - https://[2a10:50c0::1:ff]/dns-query
    - quic://[2a10:50c0::2:ff]:784
    - tls://[2a10:50c0::2:ff]:853
    - https://[2a10:50c0::2:ff]/dns-query
  listen: 0.0.0.0:1053
  use-hosts: true
  #  fake-ip / redir-host
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - 'stun.*.*.*'
    - 'stun.*.*'
    - 'localhost.ptlogin2.qq.com'
    - '*.msftncsi.com'
    - '*.msftconnecttest.com'
  nameserver:
    - 223.5.5.5
    - 1.1.1.1
    - 8.8.8.8
    - 114.114.114.114
    - 119.29.29.29
    - quic://i.passcloud.xyz:784
    - quic://a.passcloud.xyz:784
    - tls://i.passcloud.xyz:853
    - tls://a.passcloud.xyz:853
    - https://i.passcloud.xyz/dns-query
    - https://a.passcloud.xyz/dns-query
  proxy-server-nameserver:          
#iqiq.io(Filter ?/log ?)
#    - quic://i.passcloud.xyz:784
#    - quic://a.passcloud.xyz:784
#    - tls://i.passcloud.xyz:853
#    - tls://a.passcloud.xyz:853
#    - https://i.passcloud.xyz/dns-query
#    - https://a.passcloud.xyz/dns-query
#UN-CN Dot NO 853(Filter ?/log ?)
#    - tls://dns.cmrg.net:53053
#    - tls://dns.cmrg.net:443
#    - https://199.58.83.33/dns-query
#    - tls://199.58.83.33:443
#    - tls://199.58.83.33:53053
#CloudFlare-Warp Doh(No Filter/No log/Anycast/Edns)
#    - https://162.159.36.1/dns-query
#    - https://162.159.46.1/dns-query
#Tuna DNS(Filter ?/log ?/Edns)
    - tls://dns.tuna.tsinghua.edu.cn:8853
    - https://dns.tuna.tsinghua.edu.cn:8443/dns-query
#Adguard(No Filter/No log/Anycast)
#    - quic://dns-unfiltered.adguard.com:784
#    - tls://dns-unfiltered.adguard.com:853
#    - https://dns-unfiltered.adguard.com/dns-query
#    - quic://94.140.14.140:784
#    - tls://94.140.14.140:853
#    - https://94.140.14.140/dns-query
#    - quic://94.140.14.141:784
#    - tls://94.140.14.141:853
#    - https://94.140.14.141/dns-query
#Apad DNS(Filter ?/log ?/Edns)
    - tls://edns.apad.pro:853
    - https://edns.apad.pro:3306/dns-query
    - tls://h2o.apad.pro:853
    - https://h2o.apad.pro/dns-query
    - https://doh.apad.pro/dns-query
#Apad DNS CN
#    - https://doh.apad.pro/cn-query
#IBM Doh(No Filter/No log/Anycast/Edns)
#    - tls://dns-nosec.quad9.net:853
#    - tls://dns10.quad9.net:853
#    - https://dns10.quad9.net:5053/dns-query
#    - https://dns10.quad9.net/dns-query
#NextDns
#    - quic://103.127.124.46:853
#    - quic://203.76.245.200:853
#    - quic://203.162.172.59:853
#    - quic://103.88.47.112:853
#    - quic://103.199.17.192:853
#    - quic://37.252.243.39:853
#    - quic://141.164.63.208:853
#    - quic://103.246.218.132:853
#    - quic://45.11.104.186:853
#    - quic://37.252.249.233:853
#    - https://103.127.124.46/dns-query
#    - https://203.76.245.200/dns-query
#    - https://203.162.172.59/dns-query
#    - https://103.88.47.112/dns-query
#    - https://103.199.17.192/dns-query
#    - https://37.252.243.39/dns-query
#    - https://141.164.63.208/dns-query
#    - https://103.246.218.132/dns-query
#    - https://45.11.104.186/dns-query
#    - https://37.252.249.233/dns-query    
  nameserver-policy:
    #   'www.baidu.com': '114.114.114.114'
    #   '+.internal.crop.com': '10.0.0.1'
    "geosite:ir,private,apple":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:category-ads-all": rcode://success
    "www.baidu.com,+.google.com": [223.5.5.5, https://dns.alidns.com/dns-query]
    "+.pornhub.com": "https://doh.pub/dns-query"
    "+.sxyprn.com": "https://doh.pub/dns-query"
    "+.spankbang.com": "https://doh.pub/dns-query"
    "+.samfw.com": "https://doh.pub/dns-query"    
    ## global，dns 为 rule-providers 中的名为 global 和 dns 规则订阅，
    ## 且 behavior 必须为 domain/classical，当为 classical 时仅会生效域名类规则
    "rule-set:google,ir": 8.8.8.8
  fallback:
    - 'https://dns.google/dns-query'
    - 'https://1.1.1.1/dns-query'
    - 'tcp://8.8.4.4'
    - 'tcp://208.67.222.222'
    - 'tcp://208.67.220.220'
  fallback-filter:
    geoip: true
    geoip-code: ir
    geosite:                         
      - gfw
    ipcidr:
      - '0.0.0.0/8'
      - '10.0.0.0/8'
      - '100.64.0.0/10'
      - '127.0.0.0/8'
      - '169.254.0.0/16'
      - '172.16.0.0/12'
      - '192.0.0.0/24'
      - '192.0.2.0/24'
      - '192.88.99.0/24'
      - '192.168.0.0/16'
      - '198.18.0.0/15'
      - '198.51.100.0/24'
      - '203.0.113.0/24'
      - '224.0.0.0/3'
      - '240.0.0.0/4'
      - '255.255.255.255/32'
      - '::1/128'
      - '64:ff9b:1::/48'
      - 'fc00::/7'
      - 'fe80::/10'
      - '39.102.194.95/32
     - '182.43.124.6/32'
     - '101.35.177.86/32'
#Geoip-CN 污染解析
     - '116.89.243.8/32'
     - '119.28.87.227/32'
    domain:
      - '+.google.com'
      - '+.googleapis.com'
      - '+.youtube.com'
      - '+.appspot.com'
      - '+.telegram.com'
      - '+.facebook.com'
      - '+.twitter.com'
      - '+.blogger.com'
      - '+.gmail.com'
      - '+.gvt1.com'
      - '+.xincache.com'
     - '+.gstatic.com'
     - '+.ampproject.org'
     - '+.appspot.com'
     - '+.blogger.com'
     - '+.google.com'
     - '+.google.cn'
     - '+.googleusercontent.com'
     - '+.ggpht.com'
     - '+.gmail.com'
     - '+.gvt0.com'
     - '+.gvt1.com'
     - '+.gvt2.com'
     - '+.gvt3.com'
     - '+.youtu.be'
     - '+.yt.be'
     - '+.ytimg.com'
     - '+.googlevideo.com'
     - '+.youtube.com'
     - '+.xn--ngstr-lra8j.com'
     - '+.xn--flw351e.com'
     - '+.xn--9kr7l.com'
     - '+.xn--ggle-55da.com'
     - '+.xn--gogl-0nd52e.com'
     - '+.xn--gogl-1nd42e.com'
     - '+.googleapis.com'
     - '+.googleapis.cn'
     - '+.gstatic.com'
     - '+.gstatic.cn'
     - '+.services.googleapis.cn'
     - '+.services.googleapis.com'
     - '+.connectivitycheck.gstatic.cn'
     - '+.connectivitycheck.gstatic.com'

hosts:
   'ota.googlezip.net': 127.0.0.1
   'ota-cache1.googlezip.net': 127.0.0.1
   'ota-cache2.googlezip.net': 127.0.0.1
proxies:
proxy-groups:
  - name: 🕹 select
    type: select
#    expected-status: 204
#    use:
 #     - provider1
    proxies:
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - ✈️
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: ✈️
    type: select
    proxies:
    use:
      - provider1
    
  - name: ♻️ url-test
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    #tolerance: 150
    expected-status: 204
    proxies:
    use:
      - provider1
#      - B
  - name: 🚧 fallback
    type: fallback
    url: https://cp.cloudflare.com/generate_204
    interval: 180
 #   tolerance: 0
    expected-status: 204
    proxies:
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: ⚖️ load-balance
    type: load-balance
    strategy: round-robin
    url: https://cp.cloudflare.com/generate_204
    interval: 180
#    tolerance: 5
    expected-status: 204
    proxies:
    use:
      - provider1

  - name: 📲
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
  - name: 💬 OpenAi
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
  - name: 📹
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
  - name: 🎥
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
  - name: 📺
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - DIRECT
  - name: 📺2
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - 🇨🇳
      - 🇭🇰
  - name: 🌍
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
  - name: 🌏
    type: select
    proxies:
      - 🕹 select
      - DIRECT
      - 🇭🇰
      - 🇨🇳
      - 🇸🇬
      - 🇯🇵
  - name: 📢
    type: select
    expected-status: 204
    proxies:
      
      - 🕹 select
      - DIRECT
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: Ⓜ️1
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - DIRECT
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: Ⓜ️2
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - DIRECT
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: Ⓜ️3
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - DIRECT
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: 🍎
    type: select
    expected-status: 204
    proxies:
      - DIRECT
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: 🎮
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
  - name: 🎶
    type: select
    expected-status: 204
    proxies:
      - 🕹 select
      - ♻️ url-test
  - name: 🎯
    type: select
    proxies:
      - DIRECT
      - 🕹 select
      - ♻️ url-test
  - name: 🛑
    type: select
    proxies:
      - PASS
      - DIRECT
  - name: 🍃
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: 🐟
    type: select
    expected-status: 204
    use:
      - provider1
    proxies:
      - 🕹 select
      - ✈️
      - ♻️ url-test
      - 🚧 fallback
      - ⚖️ load-balance
      - 🇭🇰 
      - 🇨🇳 
      - 🇸🇬 
      - 🇺🇲 
      - 🇯🇵 
      - 🇰🇷 
      - DIRECT
      
  - name: 🇭🇰
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
#    tolerance: 50
    filter: '🇭🇰|HK|Hong|Kong|HGC|WTT|CMI|港'
    expected-status: 204
    proxies: 
    use:
      - provider1
  - name: 🇯🇵
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
#    tolerance: 50
    filter: '🇯🇵|JP|Japan|Tokyo|Osaka|Saitama|东京|大阪|埼玉|日'
    expected-status: 204
    proxies: 
    use:
      - provider1
  - name: 🇺🇲
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
#    tolerance: 150
    filter: '🇺🇸|US|America|United.*?States|美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥'
    expected-status: 204
    proxies:
    use:
      - provider1
  - name: 🇨🇳
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
#    tolerance: 50
    filter: "cn|TW"
    expected-status: 204
    proxies: 
    use:
      - provider1
  - name: 🇸🇬
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
#    tolerance: 50
    filter: '🇸🇬|SG|Singapore|狮城|^新[^节北]|[^刷更]新[^节北]'
    expected-status: 204
    proxies: 
    use:
      - provider1
  - name: 🇰🇷
    type: url-test
    url: https://cp.cloudflare.com/generate_204
    interval: 300
 #   tolerance: 50
    filter: '🇰🇷|KO?R|Korea|首尔|韩|韓'
    expected-status: 204
    proxies: 
    use:
      - provider1

proxy-providers:
  provider1:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/2.yaml"    #【Meta专属】支持解析V2rayN等工具使用的普通订阅
    interval: 600
    path: Prem/provider1.yaml
    health-check:
      enable: true
      interval: 300
      lazy: true
      url: https://cp.cloudflare.com/generate_204
  #  override: 
    #  skip-cert-verify: true
 #     udp: true
   #   down: "50 Mbps"
    #  up: "10 Mbps"  
    #  dialer-proxy: proxy
rule-providers:
  block:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/block.yaml
    interval: 86400


  AWA:
    type: http
    behavior: domain
    format: yaml
    path: ./ruleset/AWAvenue-Ads-Rule-Clash.yaml
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 86400

  ir:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/ir.txt"
    path: ./ruleset/ir.txt
    interval: 86400
  ads:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/ads.txt"
    path: ./ruleset/ads.txt
    interval: 86400
  malware:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/malware.txt"
    path: ./ruleset/malware.txt
    interval: 86400
  phishing:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/phishing.txt"
    path: ./ruleset/phishing.txt
    interval: 86400
  cryptominers:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/cryptominers.txt"
    path: ./ruleset/cryptominers.txt
    interval: 86400
  apps:
    type: http
    format: text
    behavior: classical
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/apps.txt"
    path: ./ruleset/apps.txt
    interval: 86400
  ircidr:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/ircidr.txt"
    path: ./ruleset/ircidr.txt
    interval: 86400
  private:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/private.txt"
    path: ./ruleset/private.txt
    interval: 86400
  arvancloud:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/arvancloud.txt"
    path: ./ruleset/arvancloud.txt
    interval: 86400
  derakcloud:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/derakcloud.txt"
    path: ./ruleset/derakcloud.txt
    interval: 86400
  iranserver:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/iranserver.txt"
    path: ./ruleset/iranserver.txt
    interval: 86400
  parspack:
    type: http
    format: text
    behavior: ipcidr
    url: "https://github.com/chocolate4u/Iran-clash-rules/releases/latest/download/parspack.txt"
    path: ./ruleset/parspack.txt
    interval: 86400

  Google:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/Google.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/Google.list

  IpinfoSpeedtest:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/IpinfoSpeedtest.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/IpinfoSpeedtest.list

  gfw:
    type: http
    format: yaml
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
    path: ./ruleset/gfw.txt
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/UnBan.list
  BanAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanAD.list
  BanProgramAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanProgramAD.list
  BanEasyList:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyList.list
  BanEasyListChina:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyListChina.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyListChina.list
  BanEasyPrivacy:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyPrivacy.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyPrivacy.list    
  GoogleFCM:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleFCM.list
  GoogleCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCN.list
  SteamCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/SteamCN.list
  Bing:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Bing.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bing.list
  OneDrive:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/OneDrive.list
  Microsoft:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Microsoft.list
  Apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Apple.list
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Telegram.list
  OpenAi:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/OpenAi.list
  NetEaseMusic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/NetEaseMusic.list
  Epic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Epic.list
  Origin:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Origin.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Origin.list
  Sony:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Sony.list
  Steam:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Steam.list
  Nintendo:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Nintendo.list
  YouTube:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/YouTube.list
  Netflix:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Netflix.list
  Bahamut:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bahamut.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bahamut.list
  BilibiliHMT:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BilibiliHMT.list
  Bilibili:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bilibili.list
  ChinaMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaMedia.list
  ProxyMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ProxyMedia.list
  ProxyGFWlist:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ProxyGFWlist.list
  ChinaDomain:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaDomain.list
  ChinaCompanyIp:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaCompanyIp.list
  Download:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Download.list
  GoogleCNProxyIP:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCNProxyIP.list    
rules:
  - RULE-SET,private,🎯,no-resolve
  - RULE-SET,apps,🎯
  - RULE-SET,ads,🛑
  - RULE-SET,malware,🛑
  - RULE-SET,phishing,🛑
  - RULE-SET,cryptominers,🛑
  - RULE-SET,ir,🎯
  - RULE-SET,ircidr,🎯
  - RULE-SET,arvancloud,🎯
  - RULE-SET,derakcloud,🎯
  - RULE-SET,iranserver,🎯
  - RULE-SET,parspack,🎯
#  - RULE-SET,LocalAreaNetwork,🎯
  - RULE-SET,UnBan,🎯
  - RULE-SET,BanAD,🛑
  - RULE-SET,BanProgramAD,🍃
  - RULE-SET,GoogleFCM,📢
  - RULE-SET,GoogleCN,🎯
  - RULE-SET,SteamCN,🎯
  - RULE-SET,Bing,Ⓜ️1
  - RULE-SET,OneDrive,Ⓜ️2
  - RULE-SET,Microsoft,Ⓜ️3
  - RULE-SET,Apple,🍎
  - RULE-SET,Telegram,📲
  - RULE-SET,OpenAi,💬 OpenAi
  - RULE-SET,NetEaseMusic,🎶
  - RULE-SET,Epic,🎮
  - RULE-SET,Origin,🎮
  - RULE-SET,Sony,🎮
  - RULE-SET,Steam,🎮
  - RULE-SET,Nintendo,🎮
  - RULE-SET,YouTube,📹
  - RULE-SET,Netflix,🎥
  - RULE-SET,Bahamut,📺
  - RULE-SET,BilibiliHMT,📺
  - RULE-SET,Bilibili,📺2
  - RULE-SET,ChinaMedia,🌏
  - RULE-SET,ProxyMedia,🌍
# 长风网站，自动注入
  - DOMAIN-SUFFIX,v2rayse.com,🕹 select
  - DOMAIN-SUFFIX,cff.pw,🕹 select
  - DOMAIN-SUFFIX,vpnse.org,🕹 select
  - DOMAIN-SUFFIX,cfmem.com,🕹 select
  - RULE-SET,ProxyGFWlist,🕹 select
  - RULE-SET,ChinaDomain,🎯
  - RULE-SET,ChinaCompanyIp,🎯
  - RULE-SET,Download,🎯
  - RULE-SET,GoogleCNProxyIP,📢
#  - RULE-SET,GoogleCN,✈️
#  - RULE-SET,LocalAreaNetwork,DIRECT
#  - RULE-SET,ProxyGFWlist,✈️
#  - RULE-SET,UnBan,✈️
#  - RULE-SET,gfw,✈️  
#  - RULE-SET,BanAD,REJECT
#  - RULE-SET,BanProgramAD,✈️
#  - RULE-SET,BanEasyList,REJECT
#  - RULE-SET,BanEasyListChina,REJECT
#  - RULE-SET,BanEasyPrivacy,REJECT
#  - RULE-SET,YouTube,📺
#  - RULE-SET,ProxyMedia,📺
#  - RULE-SET,adguard,REJECT
#  - RULE-SET,Apple,🍎
#  - RULE-SET,IpinfoSpeedtest,📡 IP
#  - RULE-SET,Telegram,📲
#  - RULE-SET,ProxyGFWlist,✈️
#  - RULE-SET,LocalAreaNetwork,🎯
#  - RULE-SET,Google,📢  
  - RULE-SET,AWA,🛑
  - DOMAIN-SUFFIX,googlesyndication.com,🕹 select
  - AND,((GEOSITE,category-ads-all),(NOT,((DOMAIN-SUFFIX,googlesyndication.com)))),🛑
  - GEOSITE,category-ads-all,🛑
  - RULE-SET,block,🛑
  # - SCRIPT,quic,REJECT
  # - SCRIPT,youshit,REJECT

  ## direct FCM
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230)),DIRECT
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230),(OR,((DOMAIN-KEYWORD,google)))),DIRECT
 
  ## block udp/quic YouTube
  - AND,((NETWORK,udp),(OR,((DST-PORT,443/80),(GEOSITE,youtube)))),🛑
  - AND,((NETWORK,udp),(GEOSITE,youtube)),🛑

  # # fix dnsleak
#  - IP-CIDR,127.0.0.1/32,REJECT,no-resolve
#  - IP-CIDR,198.18.0.1/16,REJECT,no-resolve
#  - IP-CIDR,28.0.0.1/8,REJECT,no-resolve
#  - IP-CIDR6,::1/128,REJECT,no-resolve
  
  ## rules telegram
  # - GEOIP,telegram,🐟
  # - GEOSITE,telegram,PROXY

  ## direct ntp
  # - AND,((NETWORK,UDP),(DST-PORT,123)),DIRECT
  # - DST-PORT,123/136/137-139,DIRECT,udp

  ## rules inner, recommended untuk non kuota reguler
  - AND,((PROCESS-NAME,clash),(NOT,((IN-TYPE,inner)))),🛑
  - IN-TYPE,inner,🐟

  - MATCH,🐟
