listeners:
- name: redir-in
  type: redir
  port: 9797
  listen: 0.0.0.0
  udp: false
- name: mixed-in
  type: mixed
  port: 7890
  listen: 0.0.0.0
  udp: false
- name: socks-in
  type: socks
  port: 7891
  listen: 0.0.0.0
  udp: false
- name: http-in
  type: http
  port: 7892
  listen: 0.0.0.0
port: 7892
socks-port: 7891
# mixed-port: 7890
redir-port: 9797
tproxy-port: 9898
mode: rule
ipv6: true
allow-lan: true
log-level: debug
bind-address: "*"
lan-allowed-ips:
- 0.0.0.0/0
- ::/0
lan-disallowed-ips:
- 192.168.0.3/32
skip-auth-prefixes:
- 127.0.0.1/8
- ::1/128
external-controller: 0.0.0.0:9090
external-controller-tls: 0.0.0.0:9091
external-doh-server: /dns-query
external-ui: ./dashboard
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip"
keep-alive-interval: 30
find-process-mode: strict
unified-delay: false
tcp-concurrent: true
global-client-fingerprint: random
geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
etag-support: true
geox-url:
  GeoIP: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geoip.dat
  GeoSite: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geosite.dat
  mmdb: https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/geoip.metadb
  ANS: https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/geolite2/GeoLite2-ASN.mmdb
global-ua: clash.meta
profile:
  store-selected: true
  store-fake-ip: true
hosts:
  '*.clash.dev': 127.0.0.1
  'alpha.clash.dev': '::1'
  test.com: [1.1.1.1, 2.2.2.2]
  baidu.com: google.com
  ota.googlezip.net': 127.0.0.1
  ota-cache1.googlezip.net': 127.0.0.1
  ota-cache2.googlezip.net': 127.0.0.1
  localhost': 127.0.0.1       
  ip6-localhost': ::1             
  mtalk.google.com': 108.177.125.188
  alt1-mtalk.google.com': 3.3.3.3
  alt2-mtalk.google.com': 3.3.3.3
  alt3-mtalk.google.com': 74.125.200.188
  alt4-mtalk.google.com': 74.125.200.188
  alt5-mtalk.google.com': 3.3.3.3
  alt6-mtalk.google.com': 3.3.3.3
  alt7-mtalk.google.com': 74.125.200.188
  alt8-mtalk.google.com': 3.3.3.3
tun:
  enable: true
  mtu: 1500
  device: clash
  stack: mixed
  dns-hijack:
  - any:53
  auto-route: true
  strict-route: true
  auto-redirect: true
  auto-detect-interface: true
tunnels:
- tcp/udp,127.0.0.1:6553,8.8.8.8:53,PROXY
dns:
  enable: true
  cache-algorithm: arc
  prefer-h3: true
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  listen: 0.0.0.0:53
  ipv6: true
  defult-nameserver:
    - 127.0.0.1:53
    - tls://8.8.8.8
    - 185.236.104.104
    - tls://1.1.1.1
    - tls://76.76.2.0
    - tls://76.223.122.150
    - tls://146.112.41.102
    - tls://146.112.41.2
    - tls://1.0.0.1
  direct-nameserver:
    - 1.1.1.1
  nameserver:
    - 127.0.0.1:53
    - https://cloudflare-dns.com/dns-query#PROXY
    - https://doh.flashstart.com/f17c9ee5
    - https://ada.openbld.net/dns-query#PROXY
    - https://freedns.controld.com/p0#PROXY
    - https://rubyfish.cn/dns-query#PROXY
    - https://all.dns.mullvad.net/dns-query#PROXY
  proxy-server-nameserver:
    - https://cloudflare-dns.com/dns-query:784
    - https://ada.openbld.net/dns-query:784
    - https://freedns.controld.com/p0:784
  nameserver-policy:
    "rule-set:social,nsfw,geolocation-!cn":
      - https://8.8.8.8
      - https://cloudflare-dns.com/dns-query
      - https://ada.openbld.net/dns-query
      - https://freedns.controld.com/p0
    geosite:category-ads-all: rcode://refused
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  direct-nameserver-follow-policy: false
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "www.torrent.eu.org"
    - "www.msftconnecttest.com"
    - "*.msftncsi.com"
    - "+.ir"
    - "+.10010.com"
    - "+.chinaunicom.com"
    - "+.baidu.com"
    - "connect.rom.miui.com"
    - "localhost.ptlogin2.qq.com"
    - "dl.google.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "lens.l.google.com"
    - "*.n.n.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "router.asus.com"
    - "localhost.sec.qq.com"
    - "localhost.ptlogin2.qq.com"
    - "+.msftconnecttest.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    - "+.lan"
    - "+.cn"
    - "+.10010.com"
    - "+.chinaunicom.com"
    - "+.baidu.com"
    - "*.alipay.com"
    - "*.alipayobjects.com"
    - "*.jijifun.com"
    - "connect.rom.miui.com"
    - "localhost.ptlogin2.qq.com"
    - "dl.google.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "lens.l.google.com"
    - "*.n.n.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "*.mcdn.bilivideo.cn"
    - "ntp.ntsc.ac.cn"
  fallback:
    - tcp://8.8.8.8
    - tcp://1.1.1.1
    - https://cloudflare-dns.com/dns-query
    - https://ada.openbld.net/dns-query
    - https://freedns.controld.com/p0
proxy-providers:
  A1:
    type: http
    url: "https://raw.githubusercontent.com/Ruk1ng001/freeSub/main/clash.yaml"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A2:
    type: http
    url: "https://shadowmere.xyz/api/b64sub/"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A6:
    type: http
    url: "https://raw.githubusercontent.com/Surfboardv2ray/v2ray-worker-sub/refs/heads/master/Eternity"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A7:
    type: http
    url: "https://raw.githubusercontent.com/Jsnzkpg/Jsnzkpg/Jsnzkpg/Jsnzkpg"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A8:
    type: http
    url: "https://proxypool1999.banyunxiaoxi.icu/clash/proxies"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A12:
    type: http
    url: "http://155.248.172.106:12580/clash/proxies"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200 
  A13:
    type: http
    url: "http://66.42.50.118:12580/clash/proxies"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200

  A29:
    type: http
    url: "https://config.v2cross.com/clashprofile/config" # https://raw.githubusercontent.com/mheidari98/.proxy/main/all
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A32:
    type: http
    url: "https://proxypool.link/clash/proxies" # #https://raw.githubusercontent.com/dongchengjie/airport/main/subs/merged/tested_within.yaml" # https://raw.githubusercontent.com/PangTouY00/Auto_proxy/main/Long_term_subscription_num
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
  A34:
    type: http
    url: "https://raw.githubusercontent.com/ssrsub/ssr/master/clash.yaml"
    interval: 300
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    health-check:
      enable: true
      url: "https://www.createporn.com/"
      interval: 50
      expected-status: 200
proxies:
  - name: redir-in
    type: direct
    port: 9797
    server: 127.0.0.1
proxy-groups:
  - name: "PROXY"
    type: "select"
    icon: "https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/adjust.svg"
    proxies:
      - "üéàAuto"
      - "üéàfallback"
      - "üá∫üá∏USüá∫üá∏"
  - name: "üéàAuto"
    type: "url-test"
    url: "https://www.createporn.com/"
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    interval: 300
    tolerance: 50000
    exclude-type: "direct|http|socks5|redir-in"
    include-all-providers: true
    udp: false
    hidden: true
    icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png"
  - name: "üéàfallback"
    type: "fallback"
    url: "https://www.createporn.com/"
    exclude-filter: "timeout|connection refused|Expired|If|Renewal"
    interval: 180
    exclude-type: "direct|http|socks5|redir-in"
    include-all-providers: true
    udp: false
    hidden: true
    icon: "https://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png"
  - name: "üá∫üá∏USüá∫üá∏"
    filter: "^(?=.*(Áæé|Ê≥¢ÁâπÂÖ∞|ËææÊãâÊñØ|‰øÑÂãíÂÜà|Âá§Âá∞Âüé|Ë¥πÂà©Ëíô|Á°ÖË∞∑|ÊãâÊñØÁª¥Âä†ÊñØ|Ê¥õÊùâÁü∂|Âú£‰ΩïÂ°û|Âú£ÂÖãÊãâÊãâ|Ë•øÈõÖÂõæ|ËäùÂä†Âì•|US|United States)).*$"
    exclude-filter: "HK|Hong|TW|Tai|Taiwan|üáØüáµ|Êó•Êú¨|Â∑ùÊó•|‰∏ú‰∫¨|Â§ßÈò™|Ê≥âÊó•|ÂüºÁéâ|JP|Japan|üá∏üá¨|Êñ∞Âä†Âù°|ÁãÆ|SG|Singapore|ÂõûÂõΩ|Ê†°Âõ≠|Ê∏∏Êàè|üá∞üá∑|Èü©ÂõΩ|Èüì|È¶ñÂ∞î|KR|Korea|ÂõûÂõΩ|Ê†°Âõ≠|Ê∏∏Êàè|üá¶üáπ|timeout|connection refused|Áæé|Êó•|ctb|Expired|If|Renewal|Email|ÊµÅÈáè|ËøáÊúü|ÂÆòÁΩë|ËêΩÂú∞|ÂõûÂõΩ|Êú¨Á´ô|Áî®Êà∑|Ëã•|Áª≠Ë¥π|ÈÇÆÁÆ±|ËÆ¢ÈòÖ|AT|GER|üá©üá™üá±üáª|üá©üá™"
    type: "url-test"
    icon: "https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/flags/us.svg"
    interval: 300
    tolerance: 5000
    exclude-type: "socks5|http|direct|redir-in"
    include-all-providers: true
    hidden: true
    url: "https://www.createporn.com/"
  - name: "üéØ Direct"
    type: "select"
    icon: "https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/fish.svg"
    proxies:
      - "redir-in"
      - "PROXY"
rule-providers:
  nsfw:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/nsfw.yaml"
    interval: 30
  social:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/social.yaml"
    interval: 30
  ir:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.yaml"
    interval: 86400
  ads:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.yaml"
    interval: 86400
  malware:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.yaml"
    interval: 86400
  phishing:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.yaml"
    interval: 86400
  cryptominers:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.yaml"
    interval: 86400
  apps:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/apps.yaml"
    interval: 86400
  ircidr:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.yaml"
    interval: 86400
  private:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.yaml"
    interval: 86400
  irasn:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/irasn.yaml"
    interval: 86400
  geolocation-!cn:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.yaml"
    interval: 86400
  AWA:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 86400
rules :
  - DOMAIN-KEYWORD,soft98.ir,redir-in
  - DOMAIN,soft98,redir-in
  - DOMAIN-SUFFIX,soft98.ir,redir-in
  - DOMAIN-KEYWORD,dl2soft98.82.ir,redir-in
  - DOMAIN,dl2soft98.82,redir-in
  - DOMAIN-SUFFIX,dl2soft98.82.ir,redir-in
  - DOMAIN-SUFFIX,farsroid,redir-in
  - DOMAIN-KEYWORD,farsroid.com,redir-in
  - DOMAIN,farsroid.com,redir-in
  - DOMAIN-SUFFIX,createporn.com,PROXY
  - DOMAIN-KEYWORD,createporn,PROXY
  - DOMAIN,createporn,PROXY
  - DOMAIN,ad.com,REJECT
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT,no-resolve
  - PROCESS-NAME,com.samsung.android.location,REJECT,no-resolve
  - PROCESS-NAME,com.android.localtransport,REJECT,no-resolve
  - PROCESS-NAME,com.google.android.gms.location.history,REJECT,no-resolve
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT,no-resolve
  - PROCESS-NAME,com.android.location.fused,REJECT,no-resolve
  - DOMAIN-SUFFIX,google.com,PROXY
  - DOMAIN-KEYWORD,google,PROXY
  - DOMAIN-SUFFIX,netflix.com,PROXY
  - DOMAIN-SUFFIX,netflix.net,PROXY
  - DOMAIN-SUFFIX,nflxext.com,PROXY
  - DOMAIN-SUFFIX,nflximg.com,PROXY
  - DOMAIN-SUFFIX,nflxso.net,PROXY
  - DOMAIN-SUFFIX,nflxvideo.net,PROXY
  - DOMAIN-SUFFIX,spotify.com,PROXY
  - DOMAIN-SUFFIX,scdn.co,PROXY
  - DOMAIN-SUFFIX,spoti.fi,PROXY
  - DOMAIN-SUFFIX,youtube.com,PROXY
  - DOMAIN-SUFFIX,googlevideo.com,PROXY
  - DOMAIN-SUFFIX,ytimg.com,PROXY
  - DOMAIN-SUFFIX,hulu.com,PROXY
  - DOMAIN-SUFFIX,disneyplus.com,PROXY
  - DOMAIN-SUFFIX,hbo.com,PROXY
  - DOMAIN-SUFFIX,primevideo.com,PROXY
  - DOMAIN-SUFFIX,cn,DIRECT
  - DOMAIN-KEYWORD,-cn,DIRECT
  - DOMAIN-SUFFIX,ir,DIRECT
  - DOMAIN-KEYWORD,ir,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - DOMAIN-SUFFIX,openai.com,PROXY
  - DOMAIN-SUFFIX,chatgpt.com,PROXY
  - DOMAIN-SUFFIX,anthropic.com,PROXY
  - DOMAIN-SUFFIX,claude.ai,PROXY
  - DOMAIN-SUFFIX,t.me,PROXY
  - DOMAIN-SUFFIX,telegram.org,PROXY
  - DOMAIN-SUFFIX,netflix.com,PROXY
  - DOMAIN-SUFFIX,youtube.com,PROXY
  - DOMAIN-SUFFIX,disney.com,PROXY
  - DOMAIN-SUFFIX,apple.com,PROXY
  - DOMAIN-SUFFIX,icloud.com,PROXY
  - DOMAIN-SUFFIX,microsoft.com,PROXY
  - DOMAIN-SUFFIX,windows.com,PROXY
  - DOMAIN-SUFFIX,openai.com,PROXY
  - DOMAIN-SUFFIX,chatgpt.com,PROXY
  - DOMAIN-SUFFIX,oaistatic.com,PROXY
  - DOMAIN-SUFFIX,oaiusercontent.com,PROXY
  - DOMAIN-KEYWORD,openai,PROXY
  - DOMAIN-SUFFIX,anthropic.com,PROXY
  - DOMAIN-SUFFIX,claude.ai,PROXY
  - DOMAIN-SUFFIX,gemini.google.com,PROXY
  - DOMAIN-SUFFIX,bard.google.com,PROXY
  - DOMAIN-SUFFIX,perplexity.ai,PROXY
  - DOMAIN-SUFFIX,midjourney.com,PROXY
  - DOMAIN-SUFFIX,netflix.com,PROXY
  - DOMAIN-SUFFIX,disneyplus.com,PROXY
  - DOMAIN-SUFFIX,youtube.com,PROXY
  - DOMAIN-SUFFIX,spotify.com,PROXY
  - IN-PORT,7890,PROXY
  - IN-PORT,7892,PROXY
  - IN-PORT,7891,PROXY
  - IN-TYPE,SOCKS/HTTP,PROXY
  - IN-USER,mihomo,PROXY
  - IN-NAME,ss,PROXY
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - PROCESS-NAME,com.termux,PROXY
  - AND,((DOMAIN,google.com),(NETWORK,UDP)),PROXY
  - OR,((NETWORK,UDP),(DOMAIN,google.com)),REJECT
  - NOT,((DOMAIN,google.com)),PROXY
  - RULE-SET,private,redir-in,no-resolve
  - RULE-SET,apps,redir-in
  - RULE-SET,ads,REJECT
  - RULE-SET,malware,REJECT
  - RULE-SET,AWA,REJECT
  - RULE-SET,phishing,REJECT
  - RULE-SET,cryptominers,REJECT
  - RULE-SET,ir,redir-in
  - RULE-SET,ircidr,redir-in
  - RULE-SET,irasn,redir-in
  - RULE-SET,social,PROXY,no-resolve
  - RULE-SET,nsfw,PROXY,no-resolve
  - RULE-SET,geolocation-!cn,PROXY
  - GEOIP,ir,redir-in
  - MATCH,PROXY,no-resolve
