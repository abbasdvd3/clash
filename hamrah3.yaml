port: 7892
socks-port: 7891
mixed-port: 7890
redir-port: 9797
tproxy-port: 9898
mode: rule
allow-lan: true
unified-delay: true
bind-address: '*'
log-level: debug
ipv6: true
geo-auto-update: true
skip-auth-prefixes:
  - 127.0.0.1/8
  - ::1/128
lan-allowed-ips:
  - 0.0.0.0/0
  - ::/0
lan-disallowed-ips:
  - 192.168.0.3/32
geo-update-interval: 24
external-controller: 127.0.0.1:9090 
external-ui: dashboard
external-ui-name: xd
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip"
dns:
  enable: true
  cache-algorithm: arc
  prefer-h3: false
  use-hosts: true
  use-system-hosts: true
  respect-rules: false
  listen: 0.0.0.0:1053
  ipv6: true
  default-nameserver:
    - 223.5.5.5
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-range6: fdfe:dcba:9876::1/64
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
  # fake-ip-ttl: 1
  nameserver-policy:
    '+.arpa': '10.0.0.1'
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - tls://8.8.4.4
    - tls://1.1.1.1
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  fallback-filter:
    geoip: true
    geoip-code: ir
    ipcidr:
      - 240.0.0.0/4
    domain:
      - '+.google.com'
      - '+.facebook.com'
      - '+.youtube.com'
proxies:
proxy-groups:
  - name: ğŸ•¹ select
    type: select
    include-all-providers: true
    url: https://fiber.google.com/speedtest/generate_104
    nodeGroupType: 0
    exclude-type: "direct|redir-in|DNS"
    proxies:
      - â™»ï¸ url-test
      - ğŸš§ fallback
      - âš–ï¸ load-balance
      - âœˆï¸
      - ğŸ‡­ğŸ‡° 
      - ğŸ‡¨ğŸ‡³ 
      - ğŸ‡¸ğŸ‡¬ 
      - ğŸ‡ºğŸ‡² 
      - ğŸ‡¯ğŸ‡µ 
      - ğŸ‡°ğŸ‡· 
  - name: âœˆï¸
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    interval: 180
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    proxies:
    use:

  - name: â™»ï¸ url-test
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    include-all-providers: true
    exclude-type: "direct|redir-in|DNS"
    nodeGroupType: 0
    proxies:
    use:
      - provider1
      - provider2
  - name: ğŸš§ fallback
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    nodeGroupType: 0
    proxies:
      - ğŸ‡­ğŸ‡° 
      - ğŸ‡¨ğŸ‡³ 
      - ğŸ‡¸ğŸ‡¬ 
      - ğŸ‡ºğŸ‡² 
      - ğŸ‡¯ğŸ‡µ 
      - ğŸ‡°ğŸ‡· 
  - name: âš–ï¸ load-balance
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    nodeGroupType: 0
    proxies:
    use:
  
  - name: ğŸ¯
    type: select
    interface-name: ""
    proxies:
      - DIRECT
      - ğŸ•¹ select
      
  - name: ğŸ‡­ğŸ‡°
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    filter: "ğŸ‡­ğŸ‡°|HK|Hong|Kong|HGC|WTT|CMI|æ¸¯"
    proxies: 
    use:

  - name: ğŸ‡¯ğŸ‡µ
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    filter: "ğŸ‡¯ğŸ‡µ|JP|Japan|Tokyo|Osaka|Saitama|ä¸œäº¬|å¤§é˜ª|åŸ¼ç‰|æ—¥"
    proxies: 
    use:

  - name: ğŸ‡ºğŸ‡²
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    proxies:
    filter: "ğŸ‡ºğŸ‡¸|US|America|United.*?States|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥"
    use:

  - name: ğŸ‡¨ğŸ‡³
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    filter: "ğŸ‡¹ğŸ‡¼|TW|Taiwan|æ–°åŒ—|å½°åŒ–|CHT|å°|HINET"
    proxies: 
    use:

  - name: ğŸ‡¸ğŸ‡¬
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    filter: "ğŸ‡¸ğŸ‡¬|SG|Singapore|ç‹®åŸ|^æ–°[^èŠ‚åŒ—]|[^åˆ·æ›´]æ–°[^èŠ‚åŒ—]"
    proxies: 
    use:

  - name: ğŸ‡°ğŸ‡·
    type: fallback
    url: https://fiber.google.com/speedtest/generate_204
    exclude-type: "direct|redir-in|DNS"
    include-all-providers: true
    filter: "ğŸ‡°ğŸ‡·|KO?R|Korea|é¦–å°”|éŸ©|éŸ“"
    proxies: 
    use:

      
proxy-providers:
  provider1:
    type: http
    url: "https://raw.githubusercontent.com/Misaka-blog/chromego_merge/main/sub/merged_proxies_new.yaml"    
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider1]"

  provider2:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/vless/x"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider2]"
       
  provider3:
    type: http
    url: "https://raw.githubusercontent.com/soroushmirzaei/telegram-configs-collector/main/protocols/hysteria"    
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider3]"

  provider4:
    type: http
    url: "https://cdn.jsdelivr.net/gh/vxiaov/free_proxies@main/clash/clash.provider.yaml"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider4]"
       
  provider5:
    type: http
    url: "https://raw.githubusercontent.com/soroushmirzaei/telegram-configs-collector/main/protocols/shadowsocks"    
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider5]"

  provider6:
    type: http
    url: "https://raw.githubusercontent.com/peasoft/NoMoreWalls/master/list.yml"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider6]"
       
  provider7:
    type: http
    url: "https://raw.githubusercontent.com/Vauth/node/main/Main"    
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider7]"

  provider8:
    type: http
    url: "https://raw.githubusercontent.com/WilliamStar007/ClashX-V2Ray-TopFreeProxy/main/combine/clash.config.yaml"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider8]"
      
  provider9:
    type: http
    url: "https://raw.githubusercontent.com/Epodonios/v2ray-configs/main/All_Configs_base64_Sub.txt"    
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider9]"

  provider10:
    type: http
    url: "https://raw.githubusercontent.com/lagzian/SS-Collector/main/mix_clash.yaml"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider10]"
      
  provider11:
    type: http
    url: "https://raw.githubusercontent.com/ALIILAPRO/v2rayNG-Config/main/sub.txt"    
    interval: 3600
    path: h3/provider11.yaml
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider11]"

  provider12:
    type: http
    url: "https://raw.githubusercontent.com/MrMohebi/xray-proxy-grabber-telegram/master/collected-proxies/clash-meta/all.yaml"
    interval: 3600
    proxies: DIRECT
    health-check: {enable: true,url: "https://fiber.google.com/speedtest/generate_204",interval: 300}
    override:
      additional-prefix: "[provider12]"
rule-providers:
  ir:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.yaml"
    interval: 86400
  ircidr:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.yaml"
    interval: 86400
  private:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.yaml"
    interval: 86400
  irasn:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/irasn.yaml"
    interval: 86400

rules:
  - RULE-SET,private,DIRECT,no-resolve
  - RULE-SET,ir,DIRECT
  - RULE-SET,ircidr,DIRECT
  - RULE-SET,irasn,DIRECT
  - IN-TYPE,inner,ğŸ•¹ select
  - MATCH,ğŸ•¹ select
