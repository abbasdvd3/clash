dns:
  enable: true
  cache-algorithm: arc
  prefer-h3: true
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  listen: 0.0.0.0:1053
  ipv6: true
  default-nameserver:
    - 223.5.5.5
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-range6: fdfe:dcba:9876::1/64
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
  # fake-ip-ttl: 1
  nameserver-policy:
    '+.arpa': '10.0.0.1'
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - tls://8.8.4.4
    - tls://1.1.1.1
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  fallback-filter:
    geoip: true
    geoip-code: ir
    ipcidr:
      - 240.0.0.0/4
    domain:
      - '+.google.com'
      - '+.facebook.com'
      - '+.youtube.com'
proxies:
proxy-groups:
  - name: PROXY
    type: url-test
    url: http://cp.cloudflare.com/
    icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Rocket.png
    disable-udp: true
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Ssh|http|socks5
    interval: 300
    timeout: 500
    max-failed-times: 400
    lazy: true
    proxies:
      - ðŸŸ¢AutoðŸŸ¢
      - ðŸŸ¡fallbackðŸŸ¡
      - ðŸ”´load-balanceðŸ”´
      - ðŸŸ¢socks5ðŸŸ¢
      - ðŸŸ¢ShadowsocksðŸŸ¢
      - ðŸŸ¢ShadowsocksRðŸŸ¢
      - ðŸŸ¢VmessðŸŸ¢
      - ðŸŸ¢VlessðŸŸ¢
      - ðŸŸ¢Hysteria|Hysteria2ðŸŸ¢
      - ðŸŸ¢TrojanðŸŸ¢
      - ðŸŸ¢AnyTLSðŸŸ¢
      
  - name: ðŸŸ¢AutoðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh
    include-all: true
    disable-udp: true
    interval: 1300
    tolerance: 10
    timeout: 500
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Auto.png
    
  - name: ðŸŸ¡fallbackðŸŸ¡
    type: fallback
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh
    include-all: true
    disable-udp: true
    interval: 100
    timeout: 500
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
    
  - name: ðŸ”´load-balanceðŸ”´
    type: load-balance
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh
    include-all: true
    disable-udp: true
    interval: 1000
    timeout: 500
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
    
  - name: ðŸŸ¢socks5ðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|http
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png

  - name: ðŸŸ¢httpðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|Vmess|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png    
    
  - name: ðŸŸ¢VmessðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|http|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŸ¢VlessðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|http|Vmess|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png  
    
  - name: ðŸŸ¢Hysteria|Hysteria2ðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|http|Vless|Trojan|Vmess|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŸ¢AnyTLSðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|http|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|Vmess|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŸ¢TrojanðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|ShadowsocksR|Snell|http|Vless|Vmess|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŸ¢ShadowsocksðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Vmess|ShadowsocksR|Snell|http|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŸ¢ShadowsocksRðŸŸ¢
    type: url-test
    url: http://cp.cloudflare.com/
    exclude-type: Direct|Reject|Pass|Compatible|RejectDrop|Dns|Shadowsocks|Vmess|Snell|http|Vless|Trojan|Hysteria|Hysteria2|WireGuard|Mieru|AnyTLS|Sudoku|Relay|Selector|Fallback|URLTest|LoadBalance|Ssh|socks5
    include-all: true
    disable-udp: true
    interval: 500
    tolerance: 500
    timeout: 5000
    max-failed-times: 40
    lazy: true
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png      
    
  - name: ðŸŽ¯ Direct
    type: select
    disable-udp: true
    icon: http://raw.gitmirror.com/Koolson/Qure/master/IconSet/Color/Airport.png
    proxies:
      - DIRECT
      - PROXY
  - name: ðŸ›‘ Reject
    type: select
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io/main/docs/assets/icons/block.svg
    proxies:
      - REJECT
      - DIRECT
      - PROXY
proxy-providers:
  provider1:
    type: http
    url: https://raw.githubusercontent.com/MrMohebi/xray-proxy-grabber-telegram/master/collected-proxies/clash-meta/all.yaml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}

  provider2:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/refs/heads/main/vless/p.all
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider3:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/vless/x
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider4:
    type: http
    url: https://raw.githubusercontent.com/zhangkaiitugithub/passcro/main/speednodes.yaml    
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider5:
    type: http
    url: https://cdn.jsdelivr.net/gh/mahdibland/V2RayAggregator@master/sub/sub_merge_yaml.yml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider6:
    type: http
    url: https://raw.githubusercontent.com/ermaozi/get_subscribe/main/subscribe/clash.yml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
    
  provider7:
    type: http
    url: https://raw.githubusercontent.com/SnapdragonLee/SystemProxy/master/dist/clash_config.yaml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}

  provider8:
    type: http
    url: https://raw.githubusercontent.com/SnapdragonLee/SystemProxy/master/dist/clash_config_extra_US.yaml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider10:
    type: http
    url: https://raw.githubusercontent.com/vxiaov/free_proxies@main/clash/clash.provider.yaml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider11:
    type: http
    url: https://raw.githubusercontent.com/ermaozi/get_subscribe/main/subscribe/clash.yml
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
      
  provider12:
    type: http
    url: https://tt.vg/freeclash
    interval: 86400
    health-check: {enable: true,url: "http://www.gstatic.com/generate_204",interval: 300}
 
rules:

  - DOMAIN-SUFFIX,googlesyndication.com,PROXY
  - AND,((GEOSITE,category-ads-all),(NOT,((DOMAIN-SUFFIX,googlesyndication.com)))),ðŸ›‘ Reject
  - GEOSITE,category-ads-all,ðŸ›‘ Reject
  - PROCESS-NAME,com.sec.location.nsflp2,ðŸ›‘ Reject
  - PROCESS-NAME,com.samsung.android.location,ðŸ›‘ Reject
  - PROCESS-NAME,com.android.localtransport,ðŸ›‘ Reject
  - PROCESS-NAME,com.google.android.gms.location.history,ðŸ›‘ Reject
  - PROCESS-NAME,com.sec.location.nsflp2,ðŸ›‘ Reject
  - PROCESS-NAME,com.android.location.fused,ðŸ›‘ Reject
  - AND,((NETWORK,udp),(OR,((DST-PORT,443/80),(GEOSITE,youtube)))),ðŸ›‘ Reject
  - AND,((NETWORK,udp),(GEOSITE,youtube)),ðŸ›‘ Reject
  - IP-CIDR,127.0.0.1/32,ðŸŽ¯ Direct,no-resolve
  - IP-CIDR,198.18.0.1/16,ðŸŽ¯ Direct,no-resolve
  - IP-CIDR,28.0.0.1/8,ðŸŽ¯ Direct,no-resolve
  - IP-CIDR6,::1/128,ðŸŽ¯ Direct,no-resolve
  - AND,((PROCESS-NAME,clash),(NOT,((IN-TYPE,inner)))),ðŸ›‘ Reject
  - IN-TYPE,inner,PROXY
  - MATCH,PROXY
