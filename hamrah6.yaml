port: 7892
socks-port: 7891
mixed-port: 7890
allow-lan: true
mode: Rule
bind-address: "*"
ipv6: true
log-level: info
find-process-mode: always
enable-process: true
unified-delay: false
keep-alive-interval: 15
tcp-concurrent: true
geodata-mode: true

external-controller: 0.0.0.0:9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
global-client-fingerprint: chrome
geox-url:
  geoip: "https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geoip.dat"
  geosite: "https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/release/geosite.dat"
  mmdb: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/geoip.metadb"
  asn: "https://raw.githubusercontent.com/Chocolate4U/Iran-v2ray-rules/geolite2/GeoLite2-ASN.mmdb"
geo-auto-update: true
geo-update-interval: 24
global-ua: clash.meta

experimental:
  ignore-resolve-fail: true
  sniff-tls-sni: true
  udp-fallback-match: true
  quic-go-disable-gso: true
  quic-go-disable-ecn: true
sniffer:
  enable: false
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
tun:
  enable: true
  stack: mixed
  dns-hijack:
    - 'any:53'
  auto-route: true
  auto-detect-interface: true

profile:
  store-fake-ip: true
  store-selected: true
  tracing: true

dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: true
  default-nameserver:
    - 10.202.10.202
    - 78.157.42.100
    - 223.5.5.5
    - 119.29.29.29
    - 1.1.1.1
    - 8.8.8.8
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.local"
  nameserver:
    - 10.202.10.102
    - 10.0.0.0
    - 223.5.5.5
    - 119.29.29.29
    - 8.8.4.4
    - https://dns.alidns.com/dns-query
    - https://dns.cfiec.net/dns-query
    - https://doh.pub/dns-query
    - https://dns.ipv6dns.com/dns-query
    - https://rubyfish.cn/dns-query
    - https://all.dns.mullvad.net/dns-query
    - https://unfiltered.adguard-dns.com/dns-query
  fallback:
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - https://doh.dns.sb/dns-query
    - https://dns.twnic.tw/dns-query
    - https://doh.opendns.com/dns-query
    - https://all.dns.mullvad.net/dns-query
    - https://dns.quad9.net/dns-query
  fallback-filter:
    ipcidr:
      - 0.0.0.0/32
      - 100.64.0.0/10
      - 127.0.0.0/8
      - 240.0.0.0/4
      - 255.255.255.255/32
proxies:
proxy-groups:
  - name: Proxy
    type: url-test
    use: 
    proxies:
      - Proxy1
      - fallback
  - name: Proxy1
    type: url-test
    use: 
    proxies:
      - Auto
  - name: Auto
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    use: 
      - Subscription-1
      - Subscription-2
      - Subscription-3
      - Subscription-4
      - Subscription-5
      - Subscription-6
      - Subscription-7
      
  - name: fallback
    type: fallback
    interval: 200
  #  tolerance: 100
    url: http://www.gstatic.com/generate_204
   # filter: ""
    proxies:
      - Geo-HK
      
  - name: Geo-HK
    type: fallback
    interval: 300
  #  tolerance: 100
    url: http://www.gstatic.com/generate_204
   # filter: ""
    use:
      - Subscription-1
      - Subscription-2
      - Subscription-3
      - Subscription-4
      - Subscription-5
      - Subscription-6
      - Subscription-7
      
  - name: Geo-TW
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    proxies:
      - Geo-SG
      - Geo-DE

  - name: Geo-DE
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    proxies: 
      - Geo-HK
      - Geo-SG
      - Geo-JP
      - Geo-US
      - Geo-CN
    
  - name: Geo-SG
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    filter: "HongKong|HK|È¶ôÊ∏Ø|Singapore|SG|Êñ∞Âä†Âù°Taiwan|TW|Âè∞Êπæ|Germany|Deutsch|DE|Âæ∑ÂõΩ"
    use: 
      - Subscription-1
      - Subscription-2
      - Subscription-3
      - Subscription-4
      - Subscription-5
      - Subscription-6
      - Subscription-7
  - name: Geo-JP
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    filter: "Japan|JP|Êó•Êú¨"
    use: 
      - Subscription-1
      - Subscription-2
      - Subscription-3
      - Subscription-4
      - Subscription-5
      - Subscription-6
      - Subscription-7
  - name: Geo-US
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
    filter: "America|United States|US|ÁæéÂõΩ"
    use: 
      - Subscription-1
      - Subscription-2
      - Subscription-3
      - Subscription-4
      - Subscription-5
      - Subscription-6
      - Subscription-7
      
  - name: Geo-CN
    type: url-test
    interval: 300
    tolerance: 50
    url: http://www.gstatic.com/generate_204
 #   disable-dns: true
    filter: "China|CN|‰∏≠ÂõΩ"
    use: 
      - Subscription-7
      - Subscription-6
      - Subscription-5
      - Subscription-4
      - Subscription-3
      - Subscription-2
      - Subscription-1
    proxies:
    #  - DIRECT

  - name: Block
    type: select
    use: 
    proxies:
      - REJECT
      - DIRECT

      - Geo-HK
      - Geo-TW
      - Geo-SG
      - Geo-JP
      - Geo-US
      - Geo-DE
      - Geo-CN

  - name: DNS-Proxy
    type: select
    use: 
    proxies: 
      - Proxy
      - Auto
      - Geo-HK
      - Geo-TW
      - Geo-SG
      - Geo-JP
      - Geo-US
      - Geo-DE
      - Geo-CN
      - DIRECT
      - Block

  - name: Netflix
    type: url-test
    use: 
    proxies: 
      - Proxy
  - name: Apple
    type: select
    use: 
    proxies: 
      - Proxy
  - name: iCloud
    type: url-test
    use: 
    proxies: 
      - Proxy
  - name: MicrosoftCN
    type: url-test
    use: 
    proxies: 
      - Proxy
  - name: PayPal
    type: select
    use: 
    proxies: 
      - Proxy
  - name: Steam
    type: url-test
    use:
    proxies: 
      - Proxy
  - name: Game
    type: url-test
    use: 
    proxies: 
      - Proxy
  - name: Facebook
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: Twitter
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: Telegram
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: GlobalTV
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: YouTube
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: Spotify
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: SpeedTest
    type: url-test
    use: 
    proxies: 
      - Proxy
      - Auto
#      - dns-out

  - name: Download
    type: url-test
    use: 
    proxies: 
      - Proxy
  - name: CN
    type: select
 #   disable-dns: true
    use: 
    proxies: 
      - DIRECT
      - Proxy
  - name: Mismatch
    type: select
    udp: true
    use: 
      - Subscription-7
      - Subscription-6
      - Subscription-5
      - Subscription-4
      - Subscription-3
      - Subscription-2
      - Subscription-1
    proxies: 
      - Proxy
      - Geo-DE
      - Auto
      - Geo-TW
      - fallback
      - Geo-SG

proxy-providers:
  Subscription-1:
    type: http
    url: "https://sub.bonds.id/sub2?target=clash&url=https%3A%2F%2Fchromego-sub.netlify.app%2Fsub%2Fmerged_proxies_new.yaml&insert=false&config=base%2Fdatabase%2Fconfig%2Fstandard%2Fstandard_redir.ini&emoji=false&list=false&udp=true&tfo=false&expand=false&scv=true&fdn=false&sort=false&new_name=true" # https://chromego-sub.netlify.app/sub/merged_proxies_new.yaml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-1.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-2:
    type: http
    url: "https://raw.githubusercontent.com/abbasdvd3/clash/main/2.yaml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-2.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-3:
    type: http
    url: "https://raw.githubusercontent.com/anaer/Sub/main/clash.yaml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-3.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-4:
    type: http
    url: "https://raw.githubusercontent.com/mahdibland/V2RayAggregator/master/sub/sub_merge_yaml.yml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-4.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-5:
    type: http
    url: "https://raw.githubusercontent.com/ronghuaxueleng/get_v2/main/pub/combine.yaml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-5.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-6:
    type: http
    url: "https://raw.githubusercontent.com/chengaopan/AutoMergePublicNodes/master/list.yml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-6.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

  Subscription-7:
    type: http
    url: "https://raw.githubusercontent.com/dongchengjie/airport/main/subs/merged/tested_within.yaml" # replace this URL with your provider's subscription link
    path: providers6/Subscription-7.yaml
    proxy: DIRECT
    interval: 600
    udp: true
    health-check:
      enable: true
      interval: 300
      url: http://www.gstatic.com/generate_204
      lazy: true 

rule-providers:
  ir:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.yaml"
    path: ./ruleset/ir.yaml
    interval: 86400
  ads:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.yaml"
    path: ./ruleset/ads.yaml
    interval: 86400
  malware:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.yaml"
    path: ./ruleset/malware.yaml
    interval: 86400
  phishing:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.yaml"
    path: ./ruleset/phishing.yaml
    interval: 86400
  cryptominers:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.yaml"
    path: ./ruleset/cryptominers.yaml
    interval: 86400
  apps:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/apps.yaml"
    path: ./ruleset/apps.yaml
    interval: 86400
  ircidr:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.yaml"
    path: ./ruleset/ircidr.yaml
    interval: 86400
  private:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.yaml"
    path: ./ruleset/private.yaml
    interval: 86400
  irasn:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/irasn.yaml"
    path: ./ruleset/irasn.yaml
    interval: 86400
  block:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/block.yaml
    interval: 86400


  AWA:
    type: http
    behavior: domain
    format: yaml
    path: ./ruleset/AWAvenue-Ads-Rule-Clash.yaml
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 86400

  Google:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/Google.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/Google.list

  IpinfoSpeedtest:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/IpinfoSpeedtest.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/IpinfoSpeedtest.list

  gfw:
    type: http
    format: yaml
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
    path: ./ruleset/gfw.txt
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/UnBan.list
  BanAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanAD.list
  BanProgramAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanProgramAD.list
  BanEasyList:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyList.list
  BanEasyListChina:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyListChina.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyListChina.list
  BanEasyPrivacy:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyPrivacy.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyPrivacy.list    
  GoogleFCM:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleFCM.list
  GoogleCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCN.list
  SteamCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/SteamCN.list
  Bing:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Bing.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bing.list
  OneDrive:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/OneDrive.list
  Microsoft:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Microsoft.list
  Apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Apple.list
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Telegram.list
  OpenAi:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/OpenAi.list
  NetEaseMusic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/NetEaseMusic.list
  Epic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Epic.list
  Origin:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Origin.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Origin.list
  Sony:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Sony.list
  Steam:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Steam.list
  Nintendo:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Nintendo.list
  YouTube:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/YouTube.list
  Netflix:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Netflix.list
  Bahamut:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bahamut.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bahamut.list
  BilibiliHMT:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BilibiliHMT.list
  Bilibili:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Bilibili.list
  ChinaMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaMedia.list
  ProxyMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ProxyMedia.list
  ProxyGFWlist:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ProxyGFWlist.list
  ChinaDomain:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaDomain.list
  ChinaCompanyIp:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaCompanyIp.list
  Download:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Download.list
  GoogleCNProxyIP:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCNProxyIP.list
  DNS:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/DNS/DNS.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/DNS.yaml
  GitHub:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/GitHub/GitHub.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GitHub.yaml
  AdGuardSDNSFilter:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Domain.txt
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/AdGuardSDNSFilter.txt
  BlockHttpDNS:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/BlockHttpDNS/BlockHttpDNS.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BlockHttpDNS
  AdGuardSDNSFilterDirect:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/AdGuardSDNSFilter/Direct/Direct.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/AdGuardS DNS Filter Direct.yaml
  Samsung:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Samsung/Samsung.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Samsung.yaml
  ChinaDNS:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/ChinaDNS/ChinaDNS.yaml
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/ChinaDNS.yaml
  cloudflare:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geosite/cloudflare.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/cloudflare.list
  Domestic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/LM-Firefly/Rules/master/Domestic.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Domestic.list
  Adblock1:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/LM-Firefly/Rules/master/Adblock/Adblock.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Adblock1.list
  DNS2:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/LM-Firefly/Rules/master/Special/DNS.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/DNS2.list
  SpeedTest:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/LM-Firefly/Rules/master/SpeedTest.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/SpeedTest.list    
  category-ads-all:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/category-ads-all.yaml"
    path: ./ruleset/category-ads-all.yaml
    interval: 86400
  nsfw1:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/nsfw.yaml"
    path: ./ruleset/nsfw1.yaml
    interval: 86400
  social:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/social.yaml"
    path: ./ruleset/social.yaml
    interval: 86400
  Google1:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Google.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Google1.list    
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/LocalAreaNetwork.list  
  iran_other:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_other.txt"
    path: ./ruleset/iran_other.txt
    interval: 432000
  iran_ads:
    type: http
    format: text
    behavior: domain
    url: "https://github.com/bootmortis/iran-hosted-domains/releases/latest/download/clash_rules_ads.txt"
    path: ./ruleset/iran_ads.txt
    interval: 432000
rules:
 # - geoip,private,DIRECT,no-resolve
#  - geoip,telegram,Telegram,no-resolve
#  - RULE-SET,social,Facebook
#  - RULE-SET,nsfw1,Facebook
  - DOMAIN-SUFFIX,push.apple.com,DIRECT

#  - geosite,category-ads-all,Block
  - RULE-SET,iran_ads,REJECT
  - DOMAIN-SUFFIX,ir,DIRECT
  - RULE-SET,iran_other,DIRECT
  - GEOIP,IR,DIRECT
  - DOMAIN-SUFFIX,jetbrains.com,DIRECT
  - DOMAIN-SUFFIX,msftconnecttest.com,DIRECT
  - DOMAIN,iosapps.itunes.apple.com,DIRECT

#  - geosite,openai,iCloud
#  - geoip,openai,Apple
#  - geosite,microsoft,MicrosoftCN
#  - geosite,nsfw,PayPal
#  - geoip,nsfw,Twitter
#  - geosite,social,Facebook
#  - geoip,social,YouTube
#  - geosite,google,YouTube
#  - geoip,google,YouTube
#  - geoip,private,DIRECT,no-resolve
#  - geoip,github,DIRECT,no-resolve
#  - geosite,github,DIRECT,no-resolve
#  - geosite,category-ads-all,REJECT
#  - geosite,malware,REJECT
#  - geosite,phishing,REJECT
#  - geosite,cryptominers,REJECT
#  - geoip,malware,REJECT
#  - geoip,phishing,REJECT
#  - geosite,ir,DIRECT
#  - geoip,ir,DIRECT
  - RULE-SET,GoogleFCM,YouTube
  - RULE-SET,GoogleCN,YouTube
  - RULE-SET,SteamCN,YouTube
  - RULE-SET,Bing,MicrosoftCN
  - RULE-SET,OneDrive,MicrosoftCN
  - RULE-SET,Microsoft,MicrosoftCN
  - RULE-SET,Apple,Mismatch
  - RULE-SET,Telegram,Telegram,no-resolve
  - RULE-SET,OpenAi,Mismatch
  - RULE-SET,NetEaseMusic,Mismatch
  - RULE-SET,Epic,Mismatch
  - RULE-SET,Origin,Mismatch
  - RULE-SET,Steam,Mismatch
  - RULE-SET,Nintendo,Mismatch
  - RULE-SET,YouTube,Mismatch
  - RULE-SET,Netflix,Mismatch
  - RULE-SET,Bahamut,Mismatch
  - RULE-SET,BilibiliHMT,Mismatch
  - RULE-SET,Bilibili,Mismatch
  - RULE-SET,ChinaMedia,YouTube
  - RULE-SET,ProxyMedia,YouTube
  - RULE-SET,Google1,Proxy
  - RULE-SET,Google,Proxy
# ÈïøÈ£éÁΩëÁ´ôÔºåËá™Âä®Ê≥®ÂÖ•
  - DOMAIN-SUFFIX,v2rayse.com,YouTube
  - DOMAIN-SUFFIX,cff.pw,YouTube
  - DOMAIN-SUFFIX,vpnse.org,YouTube
  - DOMAIN-SUFFIX,cfmem.com,YouTube
  - RULE-SET,ProxyGFWlist,Proxy
  - RULE-SET,ChinaDomain,Mismatch
  - RULE-SET,ChinaCompanyIp,Mismatch
  - RULE-SET,Download,Mismatch
  - RULE-SET,GoogleCNProxyIP,Proxy
#  - RULE-SET,GoogleCN,‚úàÔ∏è
#  - RULE-SET,LocalAreaNetwork,DIRECT
#  - RULE-SET,ProxyGFWlist,‚úàÔ∏è
#  - RULE-SET,UnBan,‚úàÔ∏è
#  - RULE-SET,gfw,‚úàÔ∏è  
  - RULE-SET,Adblock1,REJECT
 # - RULE-SET,DNS2,DIRECT
 # - RULE-SET,Domestic,PROXY
#  - RULE-SET,cloudflare,DIRECT
#  - RULE-SET,ChinaDNS,üéØ
#  - RULE-SET,AdGuardSDNSFilterDirect,DIRECT
 # - RULE-SET,BlockHttpDNS,REJECT
#  - RULE-SET,AdGuardSDNSFilter,REJECT
#  - RULE-SET,Samsung,PROXY
  - RULE-SET,SpeedTest,DIRECT
#  - RULE-SET,DNS,DIRECT
#  - RULE-SET,ProxyGFWlist,PROXY
  - RULE-SET,GitHub,DIRECT,no-resolve
#  - RULE-SET,Google,PROXY
  - RULE-SET,AWA,REJECT
  - DOMAIN-SUFFIX,googlesyndication.com,Proxy
  - AND,((GEOSITE,category-ads-all),(NOT,((DOMAIN-SUFFIX,googlesyndication.com)))),REJECT
#  - GEOSITE,category-ads-all,REJECT
  - RULE-SET,block,REJECT
  # - SCRIPT,quic,REJECT
  # - SCRIPT,youshit,REJECT
  ## direct FCM
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230)),DIRECT
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230),(OR,((DOMAIN-KEYWORD,google)))),DIRECT
  ## block udp/quic YouTube
#  - AND,((NETWORK,udp),(OR,((DST-PORT,443/80),(GEOSITE,youtube)))),REJECT
#  - AND,((NETWORK,udp),(GEOSITE,youtube)),REJECT
  # # fix dnsleak
#  - IP-CIDR,127.0.0.1/32,REJECT,no-resolve
#  - IP-CIDR,198.18.0.1/16,REJECT,no-resolve
#  - IP-CIDR,28.0.0.1/8,REJECT,no-resolve
#  - IP-CIDR6,::1/128,REJECT,no-resolve
  ## rules telegram
#  - GEOIP,telegram,Telegram,no-resolve
#  - GEOSITE,telegram,Telegram,no-resolve
 # - GEOIP,social,PROXY
#  - GEOIP,nsfw1,PROXY
#  - GEOIP,CN,DIRECT
#  - GEOIP,ir,DIRECT
#  - GEOIP,private,DIRECT,no-resolve
  ## direct ntp
  # - AND,((NETWORK,UDP),(DST-PORT,123)),DIRECT
  # - DST-PORT,123/136/137-139,DIRECT,udp
  - DOMAIN-SUFFIX,v2rayse.com,Telegram,no-resolve
  - DOMAIN-SUFFIX,cff.pw,Telegram,no-resolve
  - DOMAIN-SUFFIX,vpnse.org,Telegram,no-resolve
  - DOMAIN-SUFFIX,cfmem.com,Telegram,no-resolve
  ## rules inner, recommended untuk non kuota reguler
#  - AND,((PROCESS-NAME,clash),(NOT,((IN-TYPE,inner)))),üÜé AdBlock
# local
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT
  - PROCESS-NAME,com.samsung.android.location,REJECT
  - PROCESS-NAME,com.android.localtransport,REJECT
  - PROCESS-NAME,com.google.android.gms.location.history,REJECT
  - PROCESS-NAME,com.sec.location.nsflp2,REJECT
  - PROCESS-NAME,com.android.location.fused,REJECT
  - PROCESS-NAME,org.telegram.messenger,Mismatch
  - PROCESS-NAME,com.tumblr,Mismatch
  - PROCESS-NAME,com.google.android.webview:sandboxed_process0:org.chromium.content.app.SandboxedProcessService0:0,Mismatch
  - PROCESS-NAME,com.tumblr/org.chromium.content.app.SandboxedProcessService0:0,Mismatch
  - PROCESS-NAME,com.google.android.gms,Mismatch
  - PROCESS-NAME,com.google.android.webview,Mismatch
  - PROCESS-NAME,com.android.vending,Mismatch
  - PROCESS-NAME,com.google.android.gm,Mismatch
  - PROCESS-NAME,com.picsart.studio,Mismatch
  - PROCESS-NAME,com.tomclaw.appsend,Mismatch
  - PROCESS-NAME,com.photoroom.app,Mismatch
  - PROCESS-NAME,com.frontrow.flow,Mismatch
  - PROCESS-NAME,com.xt.retouchoversea,Mismatch
  - PROCESS-NAME,com.prequel.app,Mismatch
  - PROCESS-NAME,com.circular.pixels,Mismatch
  - PROCESS-NAME,jp.pxv.android,Mismatch
  - PROCESS-NAME,com.facebook.katana,Mismatch
  - PROCESS-NAME,com.facebook.katanb,Proxy
  - PROCESS-NAME,com.discord,Proxy
  - PROCESS-NAME,com.twitter.plus,Mismatch
  - PROCESS-NAME,com.twitter.android,Proxy
  - PROCESS-NAME,com.aeroinsta.android,Mismatch
  - PROCESS-NAME,com.instagold.android,Mismatch
  - PROCESS-NAME,com.instathunder.android,Proxy
  - PROCESS-NAME,com.myinsta.android,Mismatch
  - PROCESS-NAME,com.instagram.android,Proxy

  - MATCH,Proxy
