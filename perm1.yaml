keep-alive-interval: 30
unified-delay: true
find-process-mode: strict
tcp-concurrent: true  
global-ua: clash.meta
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
external-controller: 0.0.0.0:19090
secret: ""
experimental:
  ignore-resolve-fail: true
  sniff-tls-sni: true
  udp-fallback-match: true
profile:
  store-fake-ip: true
  store-selected: true
  tracing: true
ipv6: true
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: true
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 1.1.1.1
  enhanced-mode: fake-ip
  fake-ip-range: 22.0.0.0/8
  fake-ip-filter:
    - "*.example"
    - "*.home.arpa"
    - "*.invalid"
    - "*.lan"
    - "*.local"
    - "*.localdomain"
    - "*.localhost"
    - "*.test"
    - mesu.apple.com
    - swscan.apple.com
    - "*.router.asus.com"
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.ipv6.microsoft.com"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - msftconnecttest.com
    - msftncsi.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - time.*.apple.com
    - time.*.com
    - time.*.gov
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - time.*.edu.cn
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - dhcp://system
    - https://dns.alidns.com/dns-query
    - https://dns.cfiec.net/dns-query
    - https://doh.pub/dns-query
    - https://dns.ipv6dns.com/dns-query
    - https://rubyfish.cn/dns-query
    - https://all.dns.mullvad.net/dns-query
    - https://unfiltered.adguard-dns.com/dns-query
  fallback:
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - https://doh.dns.sb/dns-query
    - https://dns.twnic.tw/dns-query
    - https://doh.opendns.com/dns-query
    - https://all.dns.mullvad.net/dns-query
    - https://dns.quad9.net/dns-query
  fallback-filter:
    ipcidr:
      - 0.0.0.0/32
      - 100.64.0.0/10
      - 127.0.0.0/8
      - 240.0.0.0/4
      - 255.255.255.255/32

proxies:

proxy-groups:
  - name: ‚ôªÔ∏èüöÄ‚ôªÔ∏è‚ôªÔ∏è
    type: select
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
      - 'üöÄ'
      - '‚ôªÔ∏è'
      - '‚ôªÔ∏è‚ôªÔ∏è'
      - '‚ôªÔ∏è‚ôªÔ∏è‚ôªÔ∏è'
      - '‚ôªÔ∏èüîØ'
      - '‚ôªÔ∏èüîØ‚ôªÔ∏èüîØ'
      - '‚ôªÔ∏èNüîØ'
      - '‚ôªÔ∏è1'
      - 'üîØ3'
      - '‚ôªÔ∏è‚ôªÔ∏è2'
  - name: ‚ôªÔ∏èüöÄ‚ôªÔ∏è
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
      - '‚ôªÔ∏è'
      - '‚ôªÔ∏è‚ôªÔ∏è'
      - '‚ôªÔ∏è‚ôªÔ∏è‚ôªÔ∏è'
      - '‚ôªÔ∏èüîØ'
      - '‚ôªÔ∏èüîØ‚ôªÔ∏èüîØ'
      - '‚ôªÔ∏èNüîØ'
      - '‚ôªÔ∏è1'
      - 'üîØ3'
      - '‚ôªÔ∏è‚ôªÔ∏è2'
  - name: üöÄ
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN1'
      - 'VPN2'
      - 'VPN3' 
      - 'VPN4'
      - 'VPN5'
      - 'VPN6'      
  - name: ‚ôªÔ∏è
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN1'
   #   - 'VPN2'
  #    - 'VPN3'
  - name: ‚ôªÔ∏è‚ôªÔ∏è
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN3'
  - name: ‚ôªÔ∏è‚ôªÔ∏è‚ôªÔ∏è
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
  #    - 'VPN1'
      - 'VPN2'
  #    - 'VPN3'
  - name: ‚ôªÔ∏èüîØ
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN1'
      - 'VPN2'
      - 'VPN3'
  - name: ‚ôªÔ∏èüîØ‚ôªÔ∏èüîØ
    type: fallback
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN1'
      - 'VPN2'
      - 'VPN3' 
  - name: ‚ôªÔ∏èNüîØ
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN4'
      - 'VPN5'
      - 'VPN6'
  - name: ‚ôªÔ∏è1
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN4'
   #   - 'VPN2'
  #    - 'VPN3'
  - name: ‚ôªÔ∏è‚ôªÔ∏è2
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
      - 'VPN5'
  - name: üîØ3
    type: url-test
    url: http://connect.rom.miui.com/generate_204
    interval: 300
    proxies:
    use:
  #    - 'VPN1'
      - 'VPN6'
  #    - 'VPN3'      
proxy-providers:
  VPN1:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/1.yaml
    interval: 3300
    path: V1.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300

  VPN2:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/2.yaml
    interval: 3300
    path: V2.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300
  
  VPN3:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/3.yaml
    interval: 3300
    path: V3.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300

  VPN4:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/GeoIP/4.yaml
    interval: 3300
    path: V4.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300    

  VPN5:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/GeoIP/5.yaml
    interval: 3300
    path: V5.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300

  VPN6:
    type: http
    url: https://raw.githubusercontent.com/abbasdvd3/clash/main/GeoIP/6.yaml
    interval: 3300
    path: V6.yaml
    health-check:
      enable: true
      url: http://connect.rom.miui.com/generate_204
      interval: 300
rule-providers:
  ir:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ir.yaml"
    path: ./ruleset/ir.yaml
    interval: 86400
  ads:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ads.yaml"
    path: ./ruleset/ads.yaml
    interval: 86400
  malware:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.yaml"
    path: ./ruleset/malware.yaml
    interval: 86400
  phishing:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.yaml"
    path: ./ruleset/phishing.yaml
    interval: 86400
  cryptominers:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.yaml"
    path: ./ruleset/cryptominers.yaml
    interval: 86400
  apps:
    type: http
    format: yaml
    behavior: classical
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/apps.yaml"
    path: ./ruleset/apps.yaml
    interval: 86400
  ircidr:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/ircidr.yaml"
    path: ./ruleset/ircidr.yaml
    interval: 86400
  private:
    type: http
    format: yaml
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/private.yaml"
    path: ./ruleset/private.yaml
    interval: 86400
  GoogleFCM:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleFCM.list
  GoogleCNProxyIP:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCNProxyIP.list
  GoogleCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCN.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/GoogleCN.list

  Google:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Google.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/Google.list
  Apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/Apple.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/Apple.list
  IpinfoSpeedtest:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/IpinfoSpeedtest.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/IpinfoSpeedtest.list
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/Telegram.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/Telegram.list
  ProxyGFWlist:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/mphin/ProxyTools/main/rules/ProxyGFWlist.list
    format: text
    interval: 3600
    path: ./mphin/ProxyTools/ProxyGFWlist.list

  gfw:
    type: http
    format: yaml
    behavior: domain
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
    path: ./ruleset/gfw.txt
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/UnBan.list
  BanAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanAD.list
  BanProgramAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanProgramAD.list
  BanEasyList:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyList.list
  BanEasyListChina:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyListChina.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyListChina.list
  BanEasyPrivacy:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyPrivacy.list
    format: text
    interval: 3600
    path: ./ACL4SSR/ACL4SSR/BanEasyPrivacy.list
  category-ads-all:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/category-ads-all.yaml"
    path: ./ruleset/category-ads-all.yaml
    interval: 86400
  nsfw1:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/nsfw.yaml"
    path: ./ruleset/nsfw1.yaml
    interval: 86400
  social:
    type: http
    format: yaml
    behavior: domain
    url: "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/social.yaml"
    path: ./ruleset/social.yaml
    interval: 86400




      
rules:
  - RULE-SET,social,PROXY
  - RULE-SET,nsfw1,PROXY
  - RULE-SET,category-ads-all,REJECT
  - RULE-SET,private,DIRECT,no-resolve
  - RULE-SET,apps,DIRECT
  - RULE-SET,ads,REJECT
  - RULE-SET,malware,REJECT
  - RULE-SET,phishing,REJECT
  - RULE-SET,cryptominers,REJECT
  - RULE-SET,ir,DIRECT
  - RULE-SET,ircidr,DIRECT
  - RULE-SET,GoogleFCM,PROXY
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,PROXY
  - DOMAIN-SUFFIX,services.googleapis.cn,PROXY
  - RULE-SET,GoogleCNProxyIP,PROXY
  - RULE-SET,GoogleCN,PROXY
#  - RULE-SET,YouTube,üìπ Ê≤πÁÆ°ËßÜÈ¢ë
  - RULE-SET,ProxyGFWlist,PROXY
  - RULE-SET,UnBan,PROXY
  - RULE-SET,gfw,PROXY
  - RULE-SET,BanAD,REJECT
  - RULE-SET,BanProgramAD,PROXY
  - RULE-SET,BanEasyList,REJECT
  - RULE-SET,BanEasyListChina,REJECT
  - RULE-SET,BanEasyPrivacy,REJECT
#  - RULE-SET,YouTube,üì∫
#  - RULE-SET,ProxyMedia,üì∫
#  - RULE-SET,adguard,REJECT
  - RULE-SET,Apple,PROXY
  - RULE-SET,IpinfoSpeedtest,DIRECT
  - RULE-SET,Telegram,PROXY
  - RULE-SET,ProxyGFWlist,PROXY
#  - RULE-SET,LocalAreaNetwork,üéØ
  - RULE-SET,Google,PROXY
  - GEOIP,CN,DIRECT
  - GEOIP,ir,DIRECT
  # - SCRIPT,quic,REJECT
  # - SCRIPT,youshit,REJECT
  ## direct FCM
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230)),DIRECT
  # - AND,((NETWORK,TCP),(DST-PORT,5228-5230),(OR,((DOMAIN-KEYWORD,google)))),DIRECT
  - DOMAIN-SUFFIX,atom.io,DIRECT
  - DOMAIN-SUFFIX,dependabot.com,DIRECT
  - DOMAIN-SUFFIX,ghcr.io,DIRECT
  - DOMAIN-SUFFIX,git.io,DIRECT
  - DOMAIN-SUFFIX,github.blog,DIRECT
  - DOMAIN-SUFFIX,github.community,DIRECT
  - DOMAIN-SUFFIX,github.dev,DIRECT
  - DOMAIN-SUFFIX,githubapp.com,DIRECT
  - DOMAIN-SUFFIX,githubassets.com,DIRECT
  - DOMAIN-SUFFIX,githubhackathon.com,DIRECT
  - DOMAIN-SUFFIX,githubpreview.dev,DIRECT
  - DOMAIN-SUFFIX,githubstatus.com,DIRECT
  - DOMAIN-SUFFIX,githubuniverse.com,DIRECT
  - DOMAIN-SUFFIX,githubusercontent.com,DIRECT
  - DOMAIN-SUFFIX,myoctocat.com,DIRECT
  - DOMAIN-SUFFIX,opensource.guide,DIRECT
  - DOMAIN-SUFFIX,repo.new,DIRECT
  - DOMAIN-SUFFIX,thegithubshop.com,DIRECT
  - DOMAIN-SUFFIX,github.com,DIRECT
  - DOMAIN-SUFFIX,github.io,DIRECT
  - DOMAIN-SUFFIX,githubapp.com,DIRECT
  - DOMAIN-SUFFIX,githubassets.com,DIRECT
  - DOMAIN-SUFFIX,githubusercontent.com,DIRECT
  - DOMAIN-KEYWORD,github,DIRECT
  - DOMAIN-KEYWORD,appteka.store,DIRECT
  - DOMAIN-SUFFIX,collector.githubapp.com,DIRECT
  - DOMAIN-KEYWORD,drive.google.com,DIRECT
  - DOMAIN-KEYWORD,mail.google.com,DIRECT
  - IP-CIDR,127.0.0.1/32,REJECT,no-resolve
  - IP-CIDR,198.18.0.1/16,REJECT,no-resolve
  - IP-CIDR,28.0.0.1/8,REJECT,no-resolve
  - IP-CIDR6,::1/128,REJECT,no-resolve
  - DOMAIN,clash.razord.top,DIRECT
  - DOMAIN,yacd.haishan.me,DIRECT
  - DOMAIN-SUFFIX,aaplimg.com,DIRECT
  - DOMAIN-SUFFIX,apple.co,DIRECT
  - DOMAIN-SUFFIX,apple.com,DIRECT
  - DOMAIN-SUFFIX,apple-cloudkit.com,DIRECT
  - DOMAIN-SUFFIX,appstore.com,DIRECT
  - DOMAIN-SUFFIX,cdn-apple.com,DIRECT
  - DOMAIN-SUFFIX,crashlytics.com,DIRECT
  - DOMAIN-SUFFIX,v2rayse.com,DIRECT
  - DOMAIN-SUFFIX,freenode.me,DIRECT  
  - DOMAIN-SUFFIX,raw.githubusercontent.com,DIRECT
  - DOMAIN-SUFFIX,github.com,DIRECT   
  - DOMAIN-SUFFIX,cff.pw,üöÄ
  - DOMAIN-SUFFIX,vpnse.org,üöÄ
  - DOMAIN-SUFFIX,cfmem.com,üöÄ  
  - MATCH,üöÄ
